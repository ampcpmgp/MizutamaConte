(this["webpackJsonpmizutama-conte"]=this["webpackJsonpmizutama-conte"]||[]).push([[0],{219:function(e,n,t){"use strict";t.r(n);var i,r,a,c,s,o,l,d,u,b,j,v,h,m,p,x,O,g,f,z,w,y,k,S,C,I,T=t(16),W=t.n(T),E=t(33),F=t.n(E),L=t(17),N=t(20),D=t(221),A=t(67),B=t(220),G=t(18),P=Object(G.a)(i||(i=Object(L.a)(["\n  html {\n    height: 100%;\n    overflow: hidden;\n  }\n  body {\n    height: 100%;\n    overflow: hidden;\n    margin: 0;\n    padding: 0\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n  }\n  button {\n    -webkit-app-region: no-drag;\n  }\n  div.hover {\n   :hover {\n     background-color: var(--spectrum-alias-highlight-hover);\n   }\n  }\n  textarea.hover {\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n      border: 1px solid var(--spectrum-alias-border-color-hover);\n      border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n    }\n  }\n  div.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n  }\n  li.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n  a {\n    cursor: default;\n    color: var(--spectrum-alias-text-color);\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n    }\n  }\n"]))),M=t(6),H=t(222),Q=t(85),K=t(24),X=t(102),J=t.n(X),U=t(103),R=t.n(U),V=t(104),Z=t.n(V),Y=t(41),q=t(2),$=G.b.div(r||(r=Object(L.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: var(--spectrum-global-dimension-size-85, var(--spectrum-alias-size-85));\n"]))),_=function(){var e=Object(T.useGlobal)("tool"),n=Object(M.a)(e,2),t=n[0],i=n[1],r=function(){document.activeElement.blur()};return Object(Y.a)("v",(function(){i(new Set(["Select"])),r()})),Object(Y.a)("c",(function(){i(new Set(["Crop"])),r()})),Object(Y.a)("t",(function(){i(new Set(["Text"])),r()})),Object(q.jsx)($,{children:Object(q.jsxs)(H.a,{orientation:"vertical",selectionMode:"single",isQuiet:!0,isEmphasized:!0,selectedKeys:t,onSelectionChange:i,children:[Object(q.jsxs)(Q.b,{placement:"end",children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(J.a,{})},"Select"),Object(q.jsx)(Q.a,{children:"Select (V)"})]}),Object(q.jsxs)(Q.b,{placement:"end",children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(R.a,{})},"Crop"),Object(q.jsx)(Q.a,{children:"Crop (C)"})]}),Object(q.jsxs)(Q.b,{placement:"end",children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(Z.a,{})},"Text"),Object(q.jsx)(Q.a,{children:"Text (T)"})]})]})})},ee=t(10),ne=t.n(ee),te=t(36),ie=t(223),re=t(27),ae=t(127),ce=t(60),se=t(111),oe=t.n(se),le=t(112),de=t.n(le),ue=t(113),be=t.n(ue),je=t(114),ve=t.n(je),he=t(115),me=t.n(he),pe=t(116),xe=t.n(pe),Oe=t(117),ge=t.n(Oe),fe=t(118),ze=t.n(fe),we=t(69),ye=window.api,ke=G.b.div(a||(a=Object(L.a)(["\n  -webkit-app-region: drag;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Se=G.b.div(c||(c=Object(L.a)(["\n  -webkit-app-region: no-drag;\n"]))),Ce=G.b.div(s||(s=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  ","\n  margin-right: auto;\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&ye?"margin-left: var(--spectrum-global-dimension-size-800, var(--spectrum-alias-size-800));":"margin-left: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));"),Ie=G.b.div(o||(o=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  ","\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&ye&&"&::before {\n    content: '';\n    padding-left: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  }"),Te=function(){var e=Object(T.useGlobal)("mode"),n=Object(M.a)(e,2),t=n[0],i=n[1],r=function(){document.activeElement.blur()};return Object(Y.a)("e",(function(){i("Edit"),r()})),Object(Y.a)("p",(function(){i("Preview"),r()})),Object(q.jsx)(ie.b,{width:"fit-content",selectedKey:t,onSelectionChange:i,children:Object(q.jsxs)(ie.a,{maxHeight:"size-500",children:[Object(q.jsxs)(K.a,{children:[Object(q.jsx)(de.a,{}),Object(q.jsx)(re.b,{children:"Edit"})]},"Edit"),Object(q.jsxs)(K.a,{children:[Object(q.jsx)(be.a,{}),Object(q.jsx)(re.b,{children:"Preview"})]},"Preview")]})})},We=function(){var e=Object(T.useState)(""),n=Object(M.a)(e,2),t=n[0],i=n[1],r=Object(T.useGlobal)("globalFileName")[0];return Object(T.useEffect)((function(){(function(){var e=Object(te.a)(ne.a.mark((function e(){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ye){e.next=4;break}return i(r),e.abrupt("return");case 4:return e.next=6,ye.loadFileName();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[r,i]),Object(q.jsx)(ae.a,{isQuiet:!0,menuWidth:"size-3400","max-width":"fit-content",selectedKey:t,onSelectionChange:i,children:Object(q.jsxs)(K.a,{children:[Object(q.jsx)(ge.a,{}),Object(q.jsx)(re.b,{children:t})]},t)})},Ee=function(){var e=Object(T.useGlobal)("globalCuts")[1],n=Object(T.useGlobal)("globalPsds")[1],t=Object(T.useGlobal)("globalFileName")[1];return Object(q.jsxs)(ke,{children:[Object(q.jsxs)(Ce,{children:[!ye&&Object(q.jsxs)(ce.a,{isQuiet:!0,onPress:function(){var e;return null===(e=document.getElementById("inputDirectory"))||void 0===e?void 0:e.click()},children:[Object(q.jsx)(ze.a,{}),Object(q.jsx)("input",{type:"file",style:{display:"none"},id:"inputDirectory",directory:"",webkitdirectory:"",onChange:function(i){var r=i.target.files,a=Array.from(r),c=a.filter((function(e){return-1!==e.name.indexOf(".psd")})),s=a.filter((function(e){return-1!==e.name.indexOf(".json")}))[0];c.sort((function(e,n){return Number.parseInt(e.name.slice(1,4))-Number.parseInt(n.name.slice(1,4))})),t(s.name);var o=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(){n(t.result)},t.readAsArrayBuffer(e)}))};Object(te.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,c.reduce(function(){var e=Object(te.a)(ne.a.mark((function e(n,i){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.then(Object(te.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=we.readPsd,e.next=4,o(i);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.push.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Promise.resolve());case 3:n(t);case 4:case"end":return e.stop()}}),e)})))(),new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsText(s,"utf8")})).then((function(n){return e(JSON.parse(n))}))}})]}),Object(q.jsx)(ce.a,{isQuiet:!0,marginX:"size-200",children:Object(q.jsx)(oe.a,{})}),Object(q.jsx)(Se,{children:Object(q.jsx)(Te,{})})]}),Object(q.jsx)(We,{}),Object(q.jsx)(Ie,{children:Object(q.jsxs)(H.a,{isQuiet:!0,children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(ve.a,{})},"Share"),Object(q.jsx)(K.a,{children:Object(q.jsx)(me.a,{})},"Branch2"),Object(q.jsx)(K.a,{children:Object(q.jsx)(xe.a,{})},"Settings")]})})]})},Fe=t(120),Le=t.n(Fe),Ne=t(121),De=t.n(Ne),Ae=t(122),Be=t.n(Ae),Ge=t(123),Pe=t.n(Ge),Me=t(73),He=t.n(Me),Qe=t(224),Ke=G.b.p(l||(l=Object(L.a)(["\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),Xe=G.b.div(d||(d=Object(L.a)(["\n  width: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),Je=G.b.div(u||(u=Object(L.a)(["\n  width: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),Ue=G.b.div(b||(b=Object(L.a)(["\n  width: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),Re=function(){var e,n,t,i,r=Object(T.useGlobal)("cut")[0];return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(A.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(q.jsx)(Xe,{children:"Fade In"}),Object(q.jsxs)(ae.a,{width:"184px",selectedKey:null===(e=r.action)||void 0===e?void 0:e.fadeIn,defaultSelectedKey:"None",children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"None"})},"None"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"White In"})},"White In"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"Black In"})},"Black In"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"Cross"})},"Cross")]}),Object(q.jsx)(Qe.a,{label:"Duration",maxValue:480,value:null===(n=r.action)||void 0===n?void 0:n.fadeInDuration,width:"100%"}),Object(q.jsx)(Xe,{children:"Fade Out"}),Object(q.jsxs)(ae.a,{width:"184px",selectedKey:null===(t=r.action)||void 0===t?void 0:t.fadeOut,defaultSelectedKey:"None",children:[Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"None"})},"None"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"White Out"})},"White Out"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"Black Out"})},"Black Out"),Object(q.jsx)(K.a,{children:Object(q.jsx)(re.b,{children:"Cross"})},"Cross")]}),Object(q.jsx)(Qe.a,{label:"Duration",maxValue:480,value:null===(i=r.action)||void 0===i?void 0:i.fadeOutDuration,width:"100%"})]})})},Ve=t(225),Ze=function(){var e,n,t,i,r,a,c,s,o,l,d,u,b,j,v,h,m,p,x=Object(T.useGlobal)("cut")[0];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Ke,{children:"Position"}),Object(q.jsxs)(A.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(q.jsx)(Je,{children:"In"}),Object(q.jsx)(Ue,{children:"X"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(e=x.cameraWork)||void 0===e?void 0:e.position)?null===(n=x.cameraWork)||void 0===n||null===(t=n.position)||void 0===t?void 0:t.in.x.toString():""}),Object(q.jsx)(Ue,{children:"Y"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(i=x.cameraWork)||void 0===i?void 0:i.position)?null===(r=x.cameraWork)||void 0===r||null===(a=r.position)||void 0===a?void 0:a.in.y.toString():""}),Object(q.jsx)(Je,{children:"Out"}),Object(q.jsx)(Ue,{children:"X"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(c=x.cameraWork)||void 0===c?void 0:c.position)?null===(s=x.cameraWork)||void 0===s||null===(o=s.position)||void 0===o?void 0:o.out.x.toString():""}),Object(q.jsx)(Ue,{children:"Y"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(l=x.cameraWork)||void 0===l?void 0:l.position)?null===(d=x.cameraWork)||void 0===d||null===(u=d.position)||void 0===u?void 0:u.out.y.toString():""}),Object(q.jsx)(Je,{children:"Scale"}),Object(q.jsx)(Ue,{children:"In"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(b=x.cameraWork)||void 0===b?void 0:b.scale)?null===(j=x.cameraWork)||void 0===j||null===(v=j.scale)||void 0===v?void 0:v.in.toString():""}),Object(q.jsx)(Ue,{children:"Out"}),Object(q.jsx)(Ve.b,{width:"68px",isQuiet:!0,value:(null===(h=x.cameraWork)||void 0===h?void 0:h.scale)?null===(m=x.cameraWork)||void 0===m||null===(p=m.scale)||void 0===p?void 0:p.out.toString():""})]})]})},Ye=t(124),qe=t.n(Ye),$e=t(125),_e=t.n($e),en=G.b.div(j||(j=Object(L.a)(["\n  width: 100%;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),nn=G.b.input(v||(v=Object(L.a)(["\n  display: none;\n"]))),tn=G.b.ul(h||(h=Object(L.a)(["\n  padding-left: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  margin: 0;\n"]))),rn=function(e){var n=e.labelFor,t=e.children;return Object(q.jsx)(en,{children:Object(q.jsx)("label",{htmlFor:n,children:t})})},an=function(e){var n=e.labelName,t=e.children,i=Object(T.useState)(!1),r=Object(M.a)(i,2),a=r[0],c=r[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(nn,{type:"checkbox",id:n,checked:a,onClick:function(){return c(!a)}}),Object(q.jsx)(rn,{labelFor:n,children:Object(q.jsxs)(A.a,{direction:"row",gap:"size-100",alignItems:"center",children:[a?Object(q.jsx)(_e.a,{size:"S"}):Object(q.jsx)(qe.a,{size:"S"}),Object(q.jsx)(re.b,{children:n})]})}),Object(q.jsx)(tn,{style:{display:"".concat(a?"block":"none")},children:t})]})},cn=G.b.li(m||(m=Object(L.a)(["\n  list-style: none;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  ::before {\n    content: '';\n    width: var(--spectrum-global-dimension-size-225, var(--spectrum-alias-size-225));\n    padding-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  }\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),sn=window.api,on=G.b.a(p||(p=Object(L.a)(["\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]))),ln=function(){var e={picture:{width:1,height:1}},n=Object(T.useState)([e]),t=Object(M.a)(n,2),i=t[0],r=t[1],a=Object(T.useGlobal)("globalCuts")[0],c=Object(T.useGlobal)("cut")[1];return Object(T.useEffect)((function(){(function(){var e=Object(te.a)(ne.a.mark((function e(){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,sn){e.next=5;break}return r(a),e.abrupt("return");case 5:return e.next=7,sn.loadJSON();case 7:n=e.sent,r(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[a,r]),Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(an,{labelName:"Scene1",children:(null===i||void 0===i?void 0:i.length)>1&&(null===i||void 0===i?void 0:i.map((function(e,n){return Object(q.jsx)(cn,{onClick:function(){return c(e)},id:"List".concat(n+1),onMouseEnter:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(q.jsxs)(on,{href:"#Cut".concat(n+1),children:["Cut",n+1]})})})))})})},dn=t(126),un=t.n(dn),bn=G.b.div(x||(x=Object(L.a)(["\n  width: 118px;\n  height: var(--spectrum-global-dimension-size-1600, var(--spectrum-alias-size-1600));\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border: 1px solid var(--spectrum-alias-border-color);\n  background-color: var(--spectrum-alias-appframe-border-color);\n  display: flex;\n  flex-flow: column;\n  :hover {\n    color: var(--spectrum-alias-text-color-hover);\n    border-color: var(--spectrum-alias-border-color-hover);\n  }\n"]))),jn=G.b.div(O||(O=Object(L.a)(["\n  height: 50%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),vn=Object(G.b)(jn)(g||(g=Object(L.a)(["\n  background-color: var(--spectrum-tray-background-color);\n  border-bottom-left-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border-bottom-right-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n"]))),hn=function(e){var n,t=e.Title,i=e.Type,r={movie:Object(q.jsx)(He.a,{size:"S"}),audio:Object(q.jsx)(un.a,{size:"S"})};return Object(q.jsxs)(bn,{children:[Object(q.jsx)(jn,{children:(n=i,r[n])}),Object(q.jsx)(vn,{children:Object(q.jsx)(re.b,{children:t})})]})},mn=function(){return Object(q.jsxs)(A.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(q.jsx)(hn,{Title:"Title.mp4",Type:"movie"}),Object(q.jsx)(hn,{Title:"Credit.mp4",Type:"movie"}),Object(q.jsx)(hn,{Title:"BGM1.wav",Type:"audio"})]})},pn=function(){return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Ve.a,{minWidth:"100%",width:"100%",marginTop:"size-200"})})},xn=G.b.div(f||(f=Object(L.a)(["\n  padding-left: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-right: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-bottom: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  border-bottom: 2px solid var(--spectrum-alias-appframe-border-color);\n  user-select: none;\n  height: fit-content;\n  &:last-of-type {\n    overflow: auto;\n  }\n"]))),On=function(e){var n,t=e.Title,i=e.children,r={Transition:Object(q.jsx)(Le.a,{size:"XS"}),"Camera Work":Object(q.jsx)(De.a,{size:"XS"}),Outline:Object(q.jsx)(Be.a,{size:"XS"}),Dialogue:Object(q.jsx)(Pe.a,{size:"XS"}),Media:Object(q.jsx)(He.a,{size:"XS"})};return Object(q.jsxs)(xn,{style:"Outline"===t?{maxHeight:"calc(100vh - 580px)"}:{maxHeight:"calc(100vh - 257px)"},children:[Object(q.jsxs)(A.a,{direction:"row",alignItems:"center",children:[(n=t,r[n]),Object(q.jsx)(re.a,{level:4,margin:"size-200",children:Object(q.jsx)(re.b,{children:t})})]}),i]})},gn=function(){var e=Object(T.useGlobal)("mode")[0];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{style:"Edit"===e?{display:"block",height:"100%",overflow:"hidden"}:{display:"none"},children:[Object(q.jsx)(On,{Title:"Transition",children:Object(q.jsx)(Re,{})}),Object(q.jsx)(On,{Title:"Camera Work",children:Object(q.jsx)(Ze,{})}),Object(q.jsx)(On,{Title:"Outline",children:Object(q.jsx)(ln,{})})]}),Object(q.jsxs)("div",{style:"Preview"===e?{display:"block"}:{display:"none"},children:[Object(q.jsx)(On,{Title:"Dialogue",children:Object(q.jsx)(pn,{})}),Object(q.jsx)(On,{Title:"Media",children:Object(q.jsx)(mn,{})})]})]})},fn=t(84),zn=t(74),wn=G.b.div(z||(z=Object(L.a)(["\n  height: calc(100vh - 82px);\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),yn=G.b.textarea(w||(w=Object(L.a)(["\n  position: absolute;\n  top: 2px;\n  height: calc(100% - 4px);\n  width: calc(100% - 4px);\n  resize: none;\n  background: none;\n  margin: 0;\n  padding: 0;\n  border: none;\n\n  :focus {\n    outline: 2px solid var(--spectrum-alias-border-color-focus);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),kn=G.b.div(y||(y=Object(L.a)(["\n  color: var(--spectrum-semantic-positive-color-border);\n  border: 2px solid var(--spectrum-semantic-positive-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 2;\n"]))),Sn=G.b.div(k||(k=Object(L.a)(["\n  color: var(--spectrum-semantic-negative-color-border);\n  border: 2px solid var(--spectrum-semantic-negative-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 3;\n"]))),Cn=G.b.svg(S||(S=Object(L.a)(["\n  padding: 0;\n  margin: 0;\n  stroke: none;\n  fill: var(--spectrum-alias-text-color);\n  position: absolute;\n  left: calc((100% - 96px) / 2);\n"]))),In=function(e){var n=e.action,t=e.dialogue,i=e.time,r=e.timeSum,a=Object(T.useGlobal)("tool")[0],c=function(e){var n=document.activeElement;"Escape"===e.key&&n.blur()};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(B.a,{gridArea:"action",width:"100%",position:"relative",height:"auto",children:[Object(q.jsx)(yn,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:c,children:"".concat((null===n||void 0===n?void 0:n.fadeIn)?null===n||void 0===n?void 0:n.fadeIn:"","\n").concat((null===n||void 0===n?void 0:n.fadeInDuration)?null===n||void 0===n?void 0:n.fadeInDuration:"","\n").concat((null===n||void 0===n?void 0:n.fadeOut)?null===n||void 0===n?void 0:n.fadeOut:"","\n").concat((null===n||void 0===n?void 0:n.fadeOutDuration)?null===n||void 0===n?void 0:n.fadeOutDuration:"","\n").concat((null===n||void 0===n?void 0:n.text)?null===n||void 0===n?void 0:n.text:"","\n")}),(null===n||void 0===n?void 0:n.fadeIn)&&Object(q.jsx)(Cn,{viewBox:"0 0 96 48",width:"96px",children:Object(q.jsx)("path",{d:"M48,2.83,91.17,46H4.83L48,2.83M48,0,0,48H96L48,0Z"})}),(null===n||void 0===n?void 0:n.fadeOut)&&Object(q.jsx)(Cn,{viewBox:"0 0 96 48",width:"96px",style:{bottom:0},children:Object(q.jsx)("path",{d:"M91.17,2,48,45.17,4.83,2H91.17M96,0Zm0,0H0L48,48,96,0Z"})})]}),Object(q.jsx)(B.a,{gridArea:"dialogue",width:"100%",position:"relative",height:"auto",children:Object(q.jsx)(yn,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:c,children:t})}),Object(q.jsx)(B.a,{gridArea:"time",width:"100%",position:"relative",height:"auto",children:Object(q.jsx)(yn,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:c,children:"".concat(i>24?(i/24|0)+":"+("00"+i%24).slice(-2):("00"+i).slice(-2),"\n").concat(r>24?(r/24|0)+":"+("00"+r%24).slice(-2):("00"+r).slice(-2))})})]})},Tn=window.api,Wn=function(){var e,n={picture:{width:1,height:1}},t=Object(T.useState)([n]),i=Object(M.a)(t,2),r=i[0],a=i[1],c=Object(T.useGlobal)("globalCuts")[0],s=Object(T.useGlobal)("globalPsds")[0];return Object(T.useEffect)((function(){(function(){var e=Object(te.a)(ne.a.mark((function e(){var n,t,i,r,o,l,d,u,b,j,v;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(fn.a)(Object(fn.a)({},e),t.get(n))}))},Tn){e.next=8;break}return i=c,r=null===(t=s)||void 0===t?void 0:t.map((function(e){return{picture:e}})),o=n(i,r),a(o),e.abrupt("return");case 8:return e.next=10,Tn.loadPSD();case 10:return l=e.sent,e.next=13,Tn.loadJSON();case 13:d=e.sent,u=null===l||void 0===l?void 0:l.map((function(e){return Object(we.readPsd)(e)})),b=d,j=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(b,j),a(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,s,a]),Object(q.jsxs)(q.Fragment,{children:[!Tn&&(null===r||void 0===r?void 0:r.length)>1&&!(null===(e=r[1])||void 0===e?void 0:e.picture)&&Object(q.jsxs)(A.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(q.jsx)(zn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(q.jsx)(re.a,{children:"Now Loading..."})]}),Tn&&1===(null===r||void 0===r?void 0:r.length)&&Object(q.jsxs)(A.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(q.jsx)(zn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(q.jsx)(re.a,{children:"Now Loading..."})]}),(null===r||void 0===r?void 0:r.length)>1&&r.map((function(e,n){var t,i,a=r.slice(0,n+1).reduce((function(e,n){return n.time&&e+n.time}),0);return Object(q.jsx)(B.a,{backgroundColor:"gray-100",children:Object(q.jsx)("div",{className:"hover",id:"Cut".concat(n+1),onClick:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.click()},onMouseEnter:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(q.jsxs)(A.b,{columns:["size-900","size-3600","auto","auto","size-1600"],areas:["cut picture action dialogue time"],gap:"size-200",height:"auto",marginBottom:"size-25",children:[Object(q.jsx)(B.a,{gridArea:"cut",width:"100%",height:"auto",children:Object(q.jsx)(A.a,{direction:"column",alignItems:"center",children:Object(q.jsx)(re.a,{children:("00"+(n+1)).slice(-3)})})}),Object(q.jsx)(B.a,{gridArea:"picture",width:"100%",height:"auto",children:null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i?void 0:i.filter((function(e,n){return 0!==n})).map((function(n){var t,i=null===(t=n.canvas)||void 0===t?void 0:t.toDataURL("image/png",.4);return Object(q.jsxs)("div",{style:{height:"".concat(n.canvas&&.12*n.canvas.height,"px"),width:"".concat(n.canvas&&.12*n.canvas.width,"px"),backgroundColor:"#fff",position:"relative"},children:[Object(q.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:i,alt:"cut"}),e.cameraWork&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(kn,{style:{height:"".concat(129.6*e.cameraWork.scale.in,"px"),width:"".concat(230.4*e.cameraWork.scale.in,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.in-e.cameraWork.position.in.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.in-e.cameraWork.position.in.x))/2,"px")},children:Object(q.jsx)(re.a,{level:4,margin:"size-25",children:"IN"})}),Object(q.jsx)(Sn,{style:{height:"".concat(129.6*e.cameraWork.scale.out,"px"),width:"".concat(230.4*e.cameraWork.scale.out,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.out-e.cameraWork.position.out.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.out-e.cameraWork.position.out.x))/2,"px")},children:Object(q.jsx)(re.a,{level:4,margin:"size-25",children:"OUT"})})]})]})}))}),Object(q.jsx)(In,{action:null===e||void 0===e?void 0:e.action,dialogue:null===e||void 0===e?void 0:e.dialogue,time:null===e||void 0===e?void 0:e.time,timeSum:a})]})})})}))]})},En=W.a.memo((function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(A.b,{columns:["size-900","size-3600","auto","auto","size-1600"],rows:["size-500"],height:"size-500",gap:"size-200",children:[Object(q.jsx)(re.a,{alignSelf:"center",justifySelf:"center",children:"CUT"}),Object(q.jsx)(re.a,{alignSelf:"center",justifySelf:"center",children:"PICTURE"}),Object(q.jsx)(re.a,{alignSelf:"center",justifySelf:"center",children:"ACTION"}),Object(q.jsx)(re.a,{alignSelf:"center",justifySelf:"center",children:"DIALOGUE"}),Object(q.jsx)(re.a,{alignSelf:"center",justifySelf:"center",children:"TIME"})]}),Object(q.jsx)(wn,{children:Object(q.jsx)(Wn,{})})]})})),Fn=G.b.div(C||(C=Object(L.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  background-color: var(--spectrum-alias-appframe-border-color);\n"]))),Ln=G.b.div(I||(I=Object(L.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  grid-area: ",";\n  height: 100%;\n  overflow: hidden;\n"])),(function(e){return e.gridArea})),Nn=function(e){var n=e.children;return Object(q.jsxs)(N.a,{theme:D.a,children:[Object(q.jsx)(P,{}),Object(q.jsx)(Fn,{children:Object(q.jsx)(A.b,{areas:["header header header","toolbar content sidebar"],columns:["size-600","auto","size-3600"],rows:["size-500","auto"],height:"100vh",gap:"size-25",children:n})})]})},Dn=function(){var e=Object(T.useGlobal)("mode")[0];return Object(q.jsxs)(Nn,{children:[Object(q.jsx)(Ln,{gridArea:"header",children:Object(q.jsx)(Ee,{})}),Object(q.jsx)(Ln,{gridArea:"toolbar",children:Object(q.jsx)(_,{})}),Object(q.jsx)(Ln,{gridArea:"sidebar",children:Object(q.jsx)(gn,{})}),Object(q.jsx)(B.a,{gridArea:"content",children:Object(q.jsx)("div",{style:{display:"".concat("Edit"===e?"block":"none")},children:Object(q.jsx)(En,{})})})]})},An=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,226)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),i(e),r(e),a(e),c(e)}))},Bn={width:1,height:1},Gn={picture:Bn};Object(T.setGlobal)({mode:"Edit",tool:new Set(["Select"]),cut:Gn,globalCuts:[Gn],globalPsds:[Bn],globalFileName:""}),F.a.render(Object(q.jsx)(W.a.StrictMode,{children:Object(q.jsx)(Dn,{})}),document.getElementById("root")),An()}},[[219,1,2]]]);
//# sourceMappingURL=main.3fdc2bd3.chunk.js.map