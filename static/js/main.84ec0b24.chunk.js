(this["webpackJsonpmizutama-conte"]=this["webpackJsonpmizutama-conte"]||[]).push([[0],{231:function(e,n,t){"use strict";t.r(n);var i,c,r,a,o,l,s,d,u,b,j,v,h,m,p,x,O,g,f,w,z,y,k,C,S,I,F,E,W,T,L,P,N,M,A,D,B=t(9),G=t.n(B),H=t(34),Q=t.n(H),K=t(12),X=t(21),J=t(233),R=t(69),U=t(232),V=t(13),Z=Object(V.a)(i||(i=Object(K.a)(["\n  html {\n    height: 100%;\n    overflow: hidden;\n  }\n  body {\n    height: 100%;\n    overflow: hidden;\n    margin: 0;\n    padding: 0\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n  }\n  button {\n    -webkit-app-region: no-drag;\n  }\n  div.hover {\n   :hover {\n     background-color: var(--spectrum-alias-highlight-hover);\n   }\n  }\n  textarea.hover {\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n      border: 1px solid var(--spectrum-alias-border-color-hover);\n      border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n    }\n  }\n  div.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n  }\n  li.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n  a {\n    cursor: default;\n    color: var(--spectrum-alias-text-color);\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n    }\n  }\n"]))),Y=t(6),q=t(234),$=t(85),_=t(25),ee=t(102),ne=t.n(ee),te=t(103),ie=t.n(te),ce=t(104),re=t.n(ce),ae=t(43),oe=t(1),le=V.b.div(c||(c=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: var(--spectrum-global-dimension-size-85, var(--spectrum-alias-size-85));\n"]))),se=function(){var e=Object(B.useGlobal)("tool"),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=function(){document.activeElement.blur()};return Object(ae.a)("v",(function(){i(new Set(["Select"])),c()})),Object(ae.a)("c",(function(){i(new Set(["Crop"])),c()})),Object(ae.a)("t",(function(){i(new Set(["Text"])),c()})),Object(oe.jsx)(le,{children:Object(oe.jsxs)(q.a,{orientation:"vertical",selectionMode:"single",isQuiet:!0,isEmphasized:!0,selectedKeys:t,onSelectionChange:i,children:[Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ne.a,{})},"Select"),Object(oe.jsx)($.a,{children:"Select (V)"})]}),Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ie.a,{})},"Crop"),Object(oe.jsx)($.a,{children:"Crop (C)"})]}),Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(re.a,{})},"Text"),Object(oe.jsx)($.a,{children:"Text (T)"})]})]})})},de=t(11),ue=t.n(de),be=t(28),je=t(235),ve=t(27),he=t(133),me=t(62),pe=t(111),xe=t.n(pe),Oe=t(112),ge=t.n(Oe),fe=t(113),we=t.n(fe),ze=t(114),ye=t.n(ze),ke=t(115),Ce=t.n(ke),Se=t(116),Ie=t.n(Se),Fe=t(117),Ee=t.n(Fe),We=t(118),Te=t.n(We),Le=t(38),Pe=window.api,Ne=V.b.div(r||(r=Object(K.a)(["\n  -webkit-app-region: drag;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Me=V.b.div(a||(a=Object(K.a)(["\n  -webkit-app-region: no-drag;\n"]))),Ae=V.b.div(o||(o=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  ","\n  margin-right: auto;\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Pe?"margin-left: var(--spectrum-global-dimension-size-800, var(--spectrum-alias-size-800));":"margin-left: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));"),De=V.b.div(l||(l=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  ","\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Pe&&"&::before {\n    content: '';\n    padding-left: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  }"),Be=function(){var e=Object(B.useGlobal)("mode"),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=function(){document.activeElement.blur()};return Object(ae.a)("e",(function(){i("Edit"),c()})),Object(ae.a)("p",(function(){i("Preview"),c()})),Object(oe.jsx)(je.b,{width:"fit-content",selectedKey:t,onSelectionChange:i,children:Object(oe.jsxs)(je.a,{maxHeight:"size-500",children:[Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(ge.a,{}),Object(oe.jsx)(ve.b,{children:"Edit"})]},"Edit"),Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(we.a,{}),Object(oe.jsx)(ve.b,{children:"Preview"})]},"Preview")]})})},Ge=function(){var e=Object(B.useState)(""),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=Object(B.useGlobal)("globalFileName")[0];return Object(B.useEffect)((function(){(function(){var e=Object(be.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Pe){e.next=4;break}return i(c),e.abrupt("return");case 4:return e.next=6,Pe.loadFileName();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[c,i]),Object(oe.jsx)(he.a,{isQuiet:!0,menuWidth:"size-3400","max-width":"fit-content",selectedKey:t,onSelectionChange:i,children:Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(Ee.a,{}),Object(oe.jsx)(ve.b,{children:t})]},t)})},He=function(){var e=Object(B.useGlobal)("globalCuts")[1],n=Object(B.useGlobal)("globalPsds")[1],t=Object(B.useGlobal)("globalFileName")[1];return Object(B.useEffect)((function(){var e=document.getElementById("inputDirectory");e&&e.setAttribute("webkitdirectory",""),e&&e.setAttribute("directory",""),e&&e.setAttribute("multiple","")}),[]),Object(oe.jsxs)(Ne,{children:[Object(oe.jsxs)(Ae,{children:[!Pe&&Object(oe.jsxs)(me.a,{isQuiet:!0,onPress:function(){var e;return null===(e=document.getElementById("inputDirectory"))||void 0===e?void 0:e.click()},children:[Object(oe.jsx)(Te.a,{}),Object(oe.jsx)("input",{type:"file",style:{display:"none"},id:"inputDirectory",onChange:function(i){var c=i.target.files,r=Array.from(c),a=r.filter((function(e){return-1!==e.name.indexOf(".psd")})),o=r.filter((function(e){return-1!==e.name.indexOf(".json")}))[0];a.sort((function(e,n){return Number.parseInt(e.name.slice(1,4))-Number.parseInt(n.name.slice(1,4))})),t(o.name);var l=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(){n(t.result)},t.readAsArrayBuffer(e)}))};Object(be.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,a.reduce(function(){var e=Object(be.a)(ue.a.mark((function e(n,i){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.then(Object(be.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Le.readPsd,e.next=4,l(i);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.push.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Promise.resolve());case 3:n(t);case 4:case"end":return e.stop()}}),e)})))(),new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsText(o,"utf8")})).then((function(n){return e(JSON.parse(n))}))}})]}),Object(oe.jsx)(me.a,{isQuiet:!0,marginX:"size-200",children:Object(oe.jsx)(xe.a,{})}),Object(oe.jsx)(Me,{children:Object(oe.jsx)(Be,{})})]}),Object(oe.jsx)(Ge,{}),Object(oe.jsx)(De,{children:Object(oe.jsxs)(q.a,{isQuiet:!0,children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ye.a,{})},"Share"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(Ce.a,{})},"Branch2"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(Ie.a,{})},"Settings")]})})]})},Qe=t(120),Ke=t.n(Qe),Xe=t(121),Je=t.n(Xe),Re=t(122),Ue=t.n(Re),Ve=t(123),Ze=t.n(Ve),Ye=t(74),qe=t.n(Ye),$e=t(236),_e=V.b.p(s||(s=Object(K.a)(["\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),en=V.b.div(d||(d=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),nn=V.b.div(u||(u=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),tn=V.b.div(b||(b=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),cn=function(){var e,n,t,i,c=Object(B.useGlobal)("cut")[0];return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(R.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(en,{children:"Fade In"}),Object(oe.jsxs)(he.a,{width:"184px",selectedKey:null===(e=c.action)||void 0===e?void 0:e.fadeIn,defaultSelectedKey:"None",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"None"})},"None"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"White In"})},"White In"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Black In"})},"Black In"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Cross"})},"Cross")]}),Object(oe.jsx)($e.a,{label:"Duration",maxValue:480,value:null===(n=c.action)||void 0===n?void 0:n.fadeInDuration,width:"256px"}),Object(oe.jsx)(en,{children:"Fade Out"}),Object(oe.jsxs)(he.a,{width:"184px",selectedKey:null===(t=c.action)||void 0===t?void 0:t.fadeOut,defaultSelectedKey:"None",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"None"})},"None"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"White Out"})},"White Out"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Black Out"})},"Black Out"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Cross"})},"Cross")]}),Object(oe.jsx)($e.a,{label:"Duration",maxValue:480,value:null===(i=c.action)||void 0===i?void 0:i.fadeOutDuration,width:"256px"})]})})},rn=t(237),an=function(){var e,n,t,i,c,r,a,o,l,s,d,u,b,j,v,h,m,p,x=Object(B.useGlobal)("cut")[0];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(_e,{children:"Position"}),Object(oe.jsxs)(R.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(nn,{children:"In"}),Object(oe.jsx)(tn,{children:"X"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(e=x.cameraWork)||void 0===e?void 0:e.position)?null===(n=x.cameraWork)||void 0===n||null===(t=n.position)||void 0===t?void 0:t.in.x.toString():""}),Object(oe.jsx)(tn,{children:"Y"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(i=x.cameraWork)||void 0===i?void 0:i.position)?null===(c=x.cameraWork)||void 0===c||null===(r=c.position)||void 0===r?void 0:r.in.y.toString():""}),Object(oe.jsx)(nn,{children:"Out"}),Object(oe.jsx)(tn,{children:"X"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(a=x.cameraWork)||void 0===a?void 0:a.position)?null===(o=x.cameraWork)||void 0===o||null===(l=o.position)||void 0===l?void 0:l.out.x.toString():""}),Object(oe.jsx)(tn,{children:"Y"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(s=x.cameraWork)||void 0===s?void 0:s.position)?null===(d=x.cameraWork)||void 0===d||null===(u=d.position)||void 0===u?void 0:u.out.y.toString():""}),Object(oe.jsx)(nn,{children:"Scale"}),Object(oe.jsx)(tn,{children:"In"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(b=x.cameraWork)||void 0===b?void 0:b.scale)?null===(j=x.cameraWork)||void 0===j||null===(v=j.scale)||void 0===v?void 0:v.in.toString():""}),Object(oe.jsx)(tn,{children:"Out"}),Object(oe.jsx)(rn.b,{width:"68px",isQuiet:!0,value:(null===(h=x.cameraWork)||void 0===h?void 0:h.scale)?null===(m=x.cameraWork)||void 0===m||null===(p=m.scale)||void 0===p?void 0:p.out.toString():""})]})]})},on=t(124),ln=t.n(on),sn=t(125),dn=t.n(sn),un=V.b.div(j||(j=Object(K.a)(["\n  width: 100%;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),bn=V.b.input(v||(v=Object(K.a)(["\n  display: none;\n"]))),jn=V.b.ul(h||(h=Object(K.a)(["\n  padding-left: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  margin: 0;\n"]))),vn=function(e){var n=e.labelFor,t=e.children;return Object(oe.jsx)(un,{children:Object(oe.jsx)("label",{htmlFor:n,children:t})})},hn=function(e){var n=e.labelName,t=e.children,i=Object(B.useState)(!1),c=Object(Y.a)(i,2),r=c[0],a=c[1];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(bn,{type:"checkbox",id:n,checked:r,onClick:function(){return a(!r)}}),Object(oe.jsx)(vn,{labelFor:n,children:Object(oe.jsxs)(R.a,{direction:"row",gap:"size-100",alignItems:"center",children:[r?Object(oe.jsx)(dn.a,{size:"S"}):Object(oe.jsx)(ln.a,{size:"S"}),Object(oe.jsx)(ve.b,{children:n})]})}),Object(oe.jsx)(jn,{style:{display:"".concat(r?"block":"none")},children:t})]})},mn=V.b.li(m||(m=Object(K.a)(["\n  list-style: none;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  ::before {\n    content: '';\n    width: var(--spectrum-global-dimension-size-225, var(--spectrum-alias-size-225));\n    padding-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  }\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),pn=window.api,xn=V.b.a(p||(p=Object(K.a)(["\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]))),On=function(){var e={picture:{width:1,height:1}},n=Object(B.useState)([e]),t=Object(Y.a)(n,2),i=t[0],c=t[1],r=Object(B.useGlobal)("globalCuts")[0],a=Object(B.useGlobal)("cut")[1];return Object(B.useEffect)((function(){(function(){var e=Object(be.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,pn){e.next=5;break}return c(r),e.abrupt("return");case 5:return e.next=7,pn.loadJSON();case 7:n=e.sent,c(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[r,c]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(hn,{labelName:"Scene1",children:(null===i||void 0===i?void 0:i.length)>1&&(null===i||void 0===i?void 0:i.map((function(e,n){return Object(oe.jsx)(mn,{onClick:function(){return a(e)},id:"List".concat(n+1),onMouseEnter:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(oe.jsxs)(xn,{href:"#Cut".concat(n+1),children:["Cut",n+1]})})})))})})},gn=t(126),fn=t.n(gn),wn=V.b.div(x||(x=Object(K.a)(["\n  width: 118px;\n  height: var(--spectrum-global-dimension-size-1600, var(--spectrum-alias-size-1600));\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border: 1px solid var(--spectrum-alias-border-color);\n  background-color: var(--spectrum-alias-appframe-border-color);\n  display: flex;\n  flex-flow: column;\n  :hover {\n    color: var(--spectrum-alias-text-color-hover);\n    border-color: var(--spectrum-alias-border-color-hover);\n  }\n"]))),zn=V.b.div(O||(O=Object(K.a)(["\n  height: 50%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),yn=Object(V.b)(zn)(g||(g=Object(K.a)(["\n  background-color: var(--spectrum-tray-background-color);\n  border-bottom-left-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border-bottom-right-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n"]))),kn=function(e){var n,t=e.Title,i=e.Type,c={movie:Object(oe.jsx)(qe.a,{size:"S"}),audio:Object(oe.jsx)(fn.a,{size:"S"})};return Object(oe.jsxs)(wn,{children:[Object(oe.jsx)(zn,{children:(n=i,c[n])}),Object(oe.jsx)(yn,{children:Object(oe.jsx)(ve.b,{children:t})})]})},Cn=function(){return Object(oe.jsxs)(R.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(kn,{Title:"Title.mp4",Type:"movie"}),Object(oe.jsx)(kn,{Title:"Credit.mp4",Type:"movie"}),Object(oe.jsx)(kn,{Title:"BGM1.wav",Type:"audio"})]})},Sn=function(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(rn.a,{minWidth:"100%",width:"100%",marginTop:"size-200"})})},In=V.b.div(f||(f=Object(K.a)(["\n  padding-left: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-right: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-bottom: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  border-bottom: 2px solid var(--spectrum-alias-appframe-border-color);\n  user-select: none;\n  height: fit-content;\n  &:last-of-type {\n    overflow: auto;\n  }\n"]))),Fn=function(e){var n,t=e.Title,i=e.children,c={Transition:Object(oe.jsx)(Ke.a,{size:"XS"}),"Camera Work":Object(oe.jsx)(Je.a,{size:"XS"}),Outline:Object(oe.jsx)(Ue.a,{size:"XS"}),Dialogue:Object(oe.jsx)(Ze.a,{size:"XS"}),Media:Object(oe.jsx)(qe.a,{size:"XS"})};return Object(oe.jsxs)(In,{style:"Outline"===t?{maxHeight:"calc(100vh - 580px)"}:{maxHeight:"calc(100vh - 257px)"},children:[Object(oe.jsxs)(R.a,{direction:"row",alignItems:"center",children:[(n=t,c[n]),Object(oe.jsx)(ve.a,{level:4,margin:"size-200",children:Object(oe.jsx)(ve.b,{children:t})})]}),i]})},En=function(){var e=Object(B.useGlobal)("mode")[0];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{style:"Edit"===e?{display:"block",height:"100%",overflow:"hidden"}:{display:"none"},children:[Object(oe.jsx)(Fn,{Title:"Transition",children:Object(oe.jsx)(cn,{})}),Object(oe.jsx)(Fn,{Title:"Camera Work",children:Object(oe.jsx)(an,{})}),Object(oe.jsx)(Fn,{Title:"Outline",children:Object(oe.jsx)(On,{})})]}),Object(oe.jsxs)("div",{style:"Preview"===e?{display:"block"}:{display:"none"},children:[Object(oe.jsx)(Fn,{Title:"Dialogue",children:Object(oe.jsx)(Sn,{})}),Object(oe.jsx)(Fn,{Title:"Media",children:Object(oe.jsx)(Cn,{})})]})]})},Wn=t(37),Tn=t(75),Ln=V.b.div(w||(w=Object(K.a)(["\n  height: calc(100vh - 82px);\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),Pn=V.b.textarea(z||(z=Object(K.a)(["\n  position: absolute;\n  top: 2px;\n  height: calc(100% - 4px);\n  width: calc(100% - 4px);\n  resize: none;\n  background: none;\n  margin: 0;\n  padding: 0;\n  border: none;\n\n  :focus {\n    outline: 2px solid var(--spectrum-alias-border-color-focus);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),Nn=V.b.div(y||(y=Object(K.a)(["\n  color: var(--spectrum-semantic-positive-color-border);\n  border: 2px solid var(--spectrum-semantic-positive-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 2;\n"]))),Mn=V.b.div(k||(k=Object(K.a)(["\n  color: var(--spectrum-semantic-negative-color-border);\n  border: 2px solid var(--spectrum-semantic-negative-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 3;\n"]))),An=V.b.svg(C||(C=Object(K.a)(["\n  padding: 0;\n  margin: 0;\n  stroke: none;\n  fill: var(--spectrum-alias-text-color);\n  position: absolute;\n  left: calc((100% - 96px) / 2);\n"]))),Dn=function(e){var n=e.action,t=e.dialogue,i=e.time,c=e.timeSum,r=Object(B.useGlobal)("tool")[0],a=function(e){var n=document.activeElement;"Escape"===e.key&&n.blur()};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(U.a,{gridArea:"action",width:"100%",position:"relative",height:"auto",children:[Object(oe.jsx)(Pn,{className:r.has("Text")?"hover":"",disabled:!r.has("Text"),onKeyDown:a,children:"".concat((null===n||void 0===n?void 0:n.fadeIn)?null===n||void 0===n?void 0:n.fadeIn:"","\n").concat((null===n||void 0===n?void 0:n.fadeInDuration)?null===n||void 0===n?void 0:n.fadeInDuration:"","\n").concat((null===n||void 0===n?void 0:n.fadeOut)?null===n||void 0===n?void 0:n.fadeOut:"","\n").concat((null===n||void 0===n?void 0:n.fadeOutDuration)?null===n||void 0===n?void 0:n.fadeOutDuration:"","\n").concat((null===n||void 0===n?void 0:n.text)?null===n||void 0===n?void 0:n.text:"","\n")}),(null===n||void 0===n?void 0:n.fadeIn)&&Object(oe.jsx)(An,{viewBox:"0 0 96 48",width:"96px",children:Object(oe.jsx)("path",{d:"M48,2.83,91.17,46H4.83L48,2.83M48,0,0,48H96L48,0Z"})}),(null===n||void 0===n?void 0:n.fadeOut)&&Object(oe.jsx)(An,{viewBox:"0 0 96 48",width:"96px",style:{bottom:0},children:Object(oe.jsx)("path",{d:"M91.17,2,48,45.17,4.83,2H91.17M96,0Zm0,0H0L48,48,96,0Z"})})]}),Object(oe.jsx)(U.a,{gridArea:"dialogue",width:"100%",position:"relative",height:"auto",children:Object(oe.jsx)(Pn,{className:r.has("Text")?"hover":"",disabled:!r.has("Text"),onKeyDown:a,children:t})}),Object(oe.jsx)(U.a,{gridArea:"time",width:"100%",position:"relative",height:"auto",children:Object(oe.jsx)(Pn,{className:r.has("Text")?"hover":"",disabled:!r.has("Text"),onKeyDown:a,children:"".concat(i>24?(i/24|0)+":"+("00"+i%24).slice(-2):("00"+i).slice(-2),"\n").concat(c>24?(c/24|0)+":"+("00"+c%24).slice(-2):("00"+c).slice(-2))})})]})},Bn=window.api,Gn=function(){var e,n={picture:{width:1,height:1}},t=Object(B.useState)([n]),i=Object(Y.a)(t,2),c=i[0],r=i[1],a=Object(B.useGlobal)("globalCuts")[0],o=Object(B.useGlobal)("globalPsds")[0];return Object(B.useEffect)((function(){(function(){var e=Object(be.a)(ue.a.mark((function e(){var n,t,i,c,l,s,d,u,b,j,v;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(Wn.a)(Object(Wn.a)({},e),t.get(n))}))},Bn){e.next=8;break}return i=a,c=null===(t=o)||void 0===t?void 0:t.map((function(e){return{picture:e}})),l=n(i,c),r(l),e.abrupt("return");case 8:return e.next=10,Bn.loadPSD();case 10:return s=e.sent,e.next=13,Bn.loadJSON();case 13:d=e.sent,u=null===s||void 0===s?void 0:s.map((function(e){return Object(Le.readPsd)(e)})),b=d,j=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(b,j),r(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,o,r]),Object(B.useEffect)((function(){Bn&&(null===c||void 0===c||c.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CC".concat(n+1,"PP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[c]),Object(oe.jsxs)(oe.Fragment,{children:[!Bn&&(null===c||void 0===c?void 0:c.length)>1&&!(null===(e=c[1])||void 0===e?void 0:e.picture)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),Bn&&1===(null===c||void 0===c?void 0:c.length)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===c||void 0===c?void 0:c.length)>1&&c.map((function(e,n){var t,i,r=c.slice(0,n+1).reduce((function(e,n){return n.time&&e+n.time}),0);return Object(oe.jsx)(U.a,{backgroundColor:"gray-100",children:Object(oe.jsx)("div",{className:"hover",id:"Cut".concat(n+1),onClick:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.click()},onMouseEnter:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("List".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(oe.jsxs)(R.b,{columns:["72px","288px","auto","auto","128px"],areas:["cut picture action dialogue time"],gap:"size-200",height:"auto",marginBottom:"size-25",children:[Object(oe.jsx)(U.a,{gridArea:"cut",width:"100%",height:"auto",children:Object(oe.jsx)(R.a,{direction:"column",alignItems:"center",children:Object(oe.jsx)(ve.a,{children:("00"+(n+1)).slice(-3)})})}),Object(oe.jsx)(U.a,{gridArea:"picture",width:"100%",height:"auto",children:null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i?void 0:i.filter((function(e,n){return 0!==n})).map((function(t){var i,c=null===(i=t.canvas)||void 0===i?void 0:i.toDataURL("image/png",.4);return Object(oe.jsxs)("div",{style:{height:"".concat(t.canvas&&.12*t.canvas.height,"px"),width:"".concat(t.canvas&&.12*t.canvas.width,"px"),position:"relative"},children:[Object(oe.jsx)("div",{style:{height:"".concat(t.canvas&&.12*t.canvas.height,"px"),width:"".concat(t.canvas&&.12*t.canvas.width,"px"),position:"relative",background:"".concat(Bn?"none":"#FFF")},id:"CC".concat(n+1,"PP").concat(t.name),children:!Bn&&Object(oe.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:c,alt:"cut"})}),e.cameraWork&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Nn,{style:{height:"".concat(129.6*e.cameraWork.scale.in,"px"),width:"".concat(230.4*e.cameraWork.scale.in,"px"),top:"".concat(t.canvas&&(.12*t.canvas.height-129.6*(e.cameraWork.scale.in-e.cameraWork.position.in.y))/2,"px"),left:"".concat(t.canvas&&(.12*t.canvas.width-230.4*(e.cameraWork.scale.in-e.cameraWork.position.in.x))/2,"px")},children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"IN"})}),Object(oe.jsx)(Mn,{style:{height:"".concat(129.6*e.cameraWork.scale.out,"px"),width:"".concat(230.4*e.cameraWork.scale.out,"px"),top:"".concat(t.canvas&&(.12*t.canvas.height-129.6*(e.cameraWork.scale.out-e.cameraWork.position.out.y))/2,"px"),left:"".concat(t.canvas&&(.12*t.canvas.width-230.4*(e.cameraWork.scale.out-e.cameraWork.position.out.x))/2,"px")},children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"OUT"})})]})]})}))}),Object(oe.jsx)(Dn,{action:null===e||void 0===e?void 0:e.action,dialogue:null===e||void 0===e?void 0:e.dialogue,time:null===e||void 0===e?void 0:e.time,timeSum:r})]})})})}))]})},Hn=G.a.memo((function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(R.b,{columns:["72px","288px","auto","auto","128px"],rows:["size-500"],height:"size-500",gap:"size-200",children:[Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"CUT"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"PICTURE"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"ACTION"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"DIALOGUE"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"TIME"})]}),Object(oe.jsx)(Ln,{children:Object(oe.jsx)(Gn,{})})]})})),Qn=t(127),Kn=t.n(Qn),Xn=t(128),Jn=t.n(Xn),Rn=t(129),Un=t.n(Rn),Vn=t(130),Zn=t.n(Vn),Yn=t(131),qn=t.n(Yn),$n=t(132),_n=t.n($n),et=t(17),nt=window.api,tt=V.b.div(S||(S=Object(K.a)(["\n  position: absolute;\n  color: #2c2c2c;\n  z-index: 2;\n"]))),it=V.b.div(I||(I=Object(K.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  height: 100%;\n  width: 100%;\n  overflow-x: scroll;\n  position: relative;\n"]))),ct=V.b.div(F||(F=Object(K.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),rt=Object(V.b)(ct)(E||(E=Object(K.a)(["\n  position: absolute;\n"]))),at=V.b.div(W||(W=Object(K.a)(["\n  height: 8px;\n  position: absolute;\n  border-left: 1px solid var(--spectrum-alias-text-color);\n"]))),ot=V.b.div(T||(T=Object(K.a)(["\n  height: 16px;\n  position: absolute;\n  top: 16px;\n"]))),lt=G.a.memo((function(){var e,n={picture:{width:1,height:1}},t=Object(B.useState)([n]),i=Object(Y.a)(t,2),c=i[0],r=i[1],a=Object(B.useGlobal)("globalCuts")[0],o=Object(B.useGlobal)("globalPsds")[0],l=Object(B.useState)(window.innerWidth-340),s=Object(Y.a)(l,2),d=s[0],u=s[1];window.addEventListener("resize",(function(){return u(window.innerWidth-340)})),Object(B.useEffect)((function(){(function(){var e=Object(be.a)(ue.a.mark((function e(){var n,t,i,c,l,s,d,u,b,j,v;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(Wn.a)(Object(Wn.a)({},e),t.get(n))}))},nt){e.next=8;break}return i=a,c=null===(t=o)||void 0===t?void 0:t.map((function(e){return{picture:e}})),l=n(i,c),r(l),e.abrupt("return");case 8:return e.next=10,nt.loadPSD();case 10:return s=e.sent,e.next=13,nt.loadJSON();case 13:d=e.sent,u=null===s||void 0===s?void 0:s.map((function(e){return Object(Le.readPsd)(e)})),b=d,j=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(b,j),r(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,o,r]),Object(B.useEffect)((function(){nt&&(null===c||void 0===c||c.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CCC".concat(n+1,"PPP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[c]);var b=(null===c||void 0===c?void 0:c.reduce((function(e,n){return n.time&&e+n.time}),0))||0,j=function(e,n){return Object(et.a)(new Array(n-e).keys()).map((function(n){return n+e}))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(ct,{style:{width:"".concat(d,"px")},children:j(0,b).filter((function(e){return e%120===0})).map((function(e){return Object(oe.jsx)(ot,{style:{left:"".concat(2*e,"px")},children:e>24?e/24+":"+("00"+e%24).slice(-2):("00"+e).slice(-2)})}))}),Object(oe.jsx)(ct,{style:{width:"".concat(d,"px")},children:j(0,b).filter((function(e){return e%12===0})).map((function(e){return Object(oe.jsx)(at,{style:{left:"".concat(2*e,"px"),top:"32px",width:"24px"}})}))}),Object(oe.jsxs)(ct,{style:{width:"".concat(d,"px")},children:[!nt&&(null===c||void 0===c?void 0:c.length)>1&&!(null===(e=c[1])||void 0===e?void 0:e.picture)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),nt&&1===(null===c||void 0===c?void 0:c.length)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===c||void 0===c?void 0:c.length)>1&&c.map((function(e,n){var t,i,r=c.slice(0,n).reduce((function(e,n){return n.time&&e+n.time}),0)||0,a=(null===e||void 0===e?void 0:e.time)||0;return Object(oe.jsxs)(rt,{style:{left:"".concat(2*r,"px"),top:"40px",width:"".concat(2*a,"px"),overflow:"hidden"},children:[null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i?void 0:i.filter((function(e,n){return 0!==n})).map((function(e){var t,i=null===(t=e.canvas)||void 0===t?void 0:t.toDataURL("image/png",.4);return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative"},children:Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative",background:"".concat(nt?"none":"#FFF")},id:"CCC".concat(n+1,"PPP").concat(e.name),children:!nt&&Object(oe.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:i,alt:"cut"})})})})})),Object(oe.jsx)(tt,{children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"Cut".concat(("00"+(n+1)).slice(-3))})})]})}))]})]})})),st=V.b.input(L||(L=Object(K.a)(["\n  position: absolute;\n  z-index: 3;\n  -webkit-appearance: none;\n  appearance: none;\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  height: 16px;\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    top: 0;\n    background: var(--spectrum-semantic-negative-color-border);\n    width: 2px;\n    height: 574px;\n  }\n"]))),dt=G.a.memo((function(e){var n=e.frame,t=e.timeTotal,i=e.setFrame;return Object(oe.jsxs)(it,{children:[Object(oe.jsx)(lt,{}),Object(oe.jsx)(st,{type:"range",id:"slide",value:n,min:"0",max:t,onChange:function(){var e=document.getElementById("slide")||document.createElement("input");i(Number.parseInt(e.value))},style:{width:"".concat(2*t,"px")}})]})})),ut=window.api,bt=V.b.div(P||(P=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: max-content;\n"]))),jt=V.b.div(N||(N=Object(K.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-positive-color-border);\n  margin-left: 0;\n  margin-right: auto;\n"]))),vt=V.b.div(M||(M=Object(K.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-negative-color-border);\n  margin-left: auto;\n  margin-right: 0;\n"]))),ht=G.a.memo((function(){var e,n={picture:{width:1,height:1}},t=Object(B.useState)([n]),i=Object(Y.a)(t,2),c=i[0],r=i[1],a=Object(B.useGlobal)("globalCuts")[0],o=Object(B.useGlobal)("globalPsds")[0],l=Object(B.useState)(0),s=Object(Y.a)(l,2),d=s[0],u=s[1],b=Object(B.useState)(!1),j=Object(Y.a)(b,2),v=j[0],h=j[1],m=Object(B.useState)((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400),p=Object(Y.a)(m,2),x=p[0],O=p[1];window.addEventListener("resize",(function(){return O((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400)}));var g=window.performance&&performance.now,f=(null===c||void 0===c?void 0:c.reduce((function(e,n){return n.time&&e+n.time}),0))||0,w=Object(B.useRef)(0),z=Object(B.useRef)(0),y=Object(B.useCallback)((function(){cancelAnimationFrame(w.current),h(!1),u(0)}),[]),k=Object(B.useCallback)((function(){cancelAnimationFrame(w.current),h(!1),f&&u(f-1)}),[f]),C=Object(B.useCallback)((function(e){cancelAnimationFrame(w.current),h(!1),f&&(e>=f&&(e=f-1),u(e))}),[f]),S=Object(B.useCallback)((function(){cancelAnimationFrame(w.current),h(!1)}),[]),I=Object(B.useCallback)((function(){var e=function(){return g&&g.call(performance)||(new Date).getTime()};z.current=e();!function n(){w.current=requestAnimationFrame(n);var t=(e()-z.current)/(1e3/24);f&&(d>=f-1&&(cancelAnimationFrame(w.current),h(!1)),u(d+t))}(),h(!0)}),[d,g,f]);return Object(B.useEffect)((function(){(function(){var e=Object(be.a)(ue.a.mark((function e(){var n,t,i,c,l,s,d,u,b,j,v;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(Wn.a)(Object(Wn.a)({},e),t.get(n))}))},ut){e.next=8;break}return i=a,c=null===(t=o)||void 0===t?void 0:t.map((function(e){return{picture:e}})),l=n(i,c),r(l),e.abrupt("return");case 8:return e.next=10,ut.loadPSD();case 10:return s=e.sent,e.next=13,ut.loadJSON();case 13:d=e.sent,u=null===s||void 0===s?void 0:s.map((function(e){return Object(Le.readPsd)(e)})),b=d,j=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(b,j),r(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,o]),Object(B.useEffect)((function(){(null===c||void 0===c?void 0:c.length)>1&&c.map((function(e,n){var t,i,r,a,o,l,s,u,b,j,v=c.slice(0,n).reduce((function(e,n){return n.time&&e+n.time}),0)||0,h=(null===(t=e.picture)||void 0===t?void 0:t.children)&&(null===(i=e.picture)||void 0===i?void 0:i.children.length)-1,m=e.time||0,p=e.time&&e.time/h,O=(null===(r=e.cameraWork)||void 0===r||null===(a=r.scale)||void 0===a?void 0:a.in)||1,g=(null===(o=e.cameraWork)||void 0===o||null===(l=o.scale)||void 0===l?void 0:l.out)||1,f=d-v||1,w=O-(O-g)*f/m,z=(null===(s=e.action)||void 0===s?void 0:s.fadeInDuration)||0,y=(null===(u=e.action)||void 0===u?void 0:u.fadeOutDuration)||0,k=m-y,C=function(e){return 0<=e&&e<z?e/z:m-y<=e&&e<=m?1-(e-k)/y:1}(f);return null===(b=e.picture)||void 0===b||null===(j=b.children)||void 0===j||j.filter((function(e,n){return p?n===Math.trunc((d-v)/p|0)+1:1===n})).map((function(e){var t=document.getElementById("c".concat(n+1,"p").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(i.width*x/w,"px"),i.style.opacity=C.toString(),t.innerHTML="",t.appendChild(i),0})),0}))}),[c,d,x]),Object(B.useEffect)((function(){f&&d>=f-1&&(cancelAnimationFrame(w.current),h(!1))}),[d,f]),Object(oe.jsx)(R.a,{direction:"column",height:"100%",children:Object(oe.jsxs)(oe.Fragment,{children:[!ut&&(null===c||void 0===c?void 0:c.length)>1&&!(null===(e=c[1])||void 0===e?void 0:e.picture)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),ut&&1===(null===c||void 0===c?void 0:c.length)&&Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(oe.jsx)(Tn.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===c||void 0===c?void 0:c.length)>1&&c.map((function(e,n){var t,i,r,a,o,l,s,u,b,j,h,m,p,O,g,w,z,F,E,W,T=c.slice(0,n-1).reduce((function(e,n){return n.time&&e+n.time}),0)||0,L=c.slice(0,n).reduce((function(e,n){return n.time&&e+n.time}),0)||0,P=c.slice(0,n+1).reduce((function(e,n){return n.time&&e+n.time}),0)||f||0,N=(null===(t=e.picture)||void 0===t?void 0:t.children)&&(null===(i=e.picture)||void 0===i?void 0:i.children.length)-1,M=(null===e||void 0===e?void 0:e.time)||0,A=M/N,D=(null===(r=e.cameraWork)||void 0===r||null===(a=r.scale)||void 0===a?void 0:a.in)||1,B=(null===(o=e.cameraWork)||void 0===o||null===(l=o.scale)||void 0===l?void 0:l.out)||1,G=d-L||1,H=D-(D-B)*G/M,Q=(null===(s=e.cameraWork)||void 0===s||null===(u=s.position)||void 0===u?void 0:u.in.x)||0,K=(null===(b=e.cameraWork)||void 0===b||null===(j=b.position)||void 0===j?void 0:j.out.x)||0,X=(null===(h=e.cameraWork)||void 0===h||null===(m=h.position)||void 0===m?void 0:m.in.y)||0,J=(null===(p=e.cameraWork)||void 0===p||null===(O=p.position)||void 0===O?void 0:O.out.y)||0,U=Q-(Q-K)*G/M,V=X-(X-J)*G/M,Z=(null===(g=e.action)||void 0===g?void 0:g.fadeInDuration)||0,Y=(null===(w=e.action)||void 0===w?void 0:w.fadeOutDuration)||0,q=M-Y,$="Black In"===(null===(z=e.action)||void 0===z?void 0:z.fadeIn)||"Black Out"===(null===(F=e.action)||void 0===F?void 0:F.fadeOut)?function(e){return 0<=e&&e<Z?e/Z:M-Y<=e&&e<=M?1-(e-q)/Y:1}(G):1;return Object(oe.jsx)(oe.Fragment,{children:void 0!==L&&void 0!==P&&L<=d&&d<P&&(null===(E=e.picture)||void 0===E||null===(W=E.children)||void 0===W?void 0:W.filter((function(e,n){return A?n===Math.trunc((d-L)/A|0)+1:1===n})).map((function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(R.a,{direction:"column",alignItems:"center",margin:"size-0",children:[Object(oe.jsxs)(bt,{style:{width:"".concat(1920*x,"px")},children:[Object(oe.jsx)(jt,{children:"".concat(L>24?(L/24|0)+":"+("00"+L%24).slice(-2):("00"+L).slice(-2))}),Object(oe.jsx)(ve.a,{children:"Cut".concat(("00"+(n+1)).slice(-3))}),Object(oe.jsx)(vt,{children:"".concat(P>24?(P/24|0)+":"+("00"+P%24).slice(-2):("00"+P).slice(-2))})]}),Object(oe.jsx)("div",{style:{height:"".concat(1080*x,"px"),width:"".concat(1920*x,"px"),backgroundColor:"#000",overflow:"hidden"},children:Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&e.canvas.height*x/H,"px"),width:"".concat(e.canvas&&e.canvas.width*x/H,"px"),backgroundColor:"#fff",opacity:"".concat($),position:"relative",bottom:"".concat(e.canvas&&(e.canvas.height*x-1080*x*(H-V))/2,"px"),right:"".concat(e.canvas&&(e.canvas.width*x-1920*x*(H-U))/2,"px")},id:"c".concat(n+1,"p").concat(e.name)})})]}),Object(oe.jsx)(R.a,{direction:"column",alignItems:"center",marginTop:"size-0",children:Object(oe.jsxs)(bt,{style:{width:"".concat(1920*x,"px")},children:[Object(oe.jsx)(jt,{children:"".concat(d>24?(d/24|0)+":"+("00"+Math.round(d)%24).slice(-2):("00"+Math.round(d)).slice(-2))}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(me.a,{isQuiet:!0,onPress:y,children:Object(oe.jsx)(Kn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:function(){return C(T)},children:Object(oe.jsx)(Jn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:v?S:I,children:v?Object(oe.jsx)(Zn.a,{size:"M"}):Object(oe.jsx)(Un.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:function(){return C(P)},children:Object(oe.jsx)(qn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:k,children:Object(oe.jsx)(_n.a,{size:"M"})})]}),Object(oe.jsx)(vt,{children:"".concat(f>24?(f/24|0)+":"+("00"+f%24).slice(-2):("00"+f).slice(-2))})]})})]})})))})})),Object(oe.jsx)(R.a,{direction:"column",width:"100%",height:"288px",marginTop:"auto",marginBottom:"size-0",gap:"size-20",position:"relative",children:Object(oe.jsx)(dt,{frame:d,timeTotal:f,setFrame:u})})]})})})),mt=V.b.div(A||(A=Object(K.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  background-color: var(--spectrum-alias-appframe-border-color);\n"]))),pt=V.b.div(D||(D=Object(K.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  grid-area: ",";\n  height: 100%;\n  overflow: hidden;\n"])),(function(e){return e.gridArea})),xt=function(e){var n=e.children;return Object(oe.jsxs)(X.a,{theme:J.a,children:[Object(oe.jsx)(Z,{}),Object(oe.jsx)(mt,{children:Object(oe.jsx)(R.b,{areas:["header header header","toolbar content sidebar"],columns:["size-600","auto","size-3600"],rows:["size-500","auto"],height:"100vh",gap:"size-25",children:n})})]})},Ot=function(){var e=Object(B.useGlobal)("mode")[0];return Object(oe.jsxs)(xt,{children:[Object(oe.jsx)(pt,{gridArea:"header",children:Object(oe.jsx)(He,{})}),Object(oe.jsx)(pt,{gridArea:"toolbar",children:Object(oe.jsx)(se,{})}),Object(oe.jsx)(pt,{gridArea:"sidebar",children:Object(oe.jsx)(En,{})}),Object(oe.jsxs)(U.a,{gridArea:"content",children:[Object(oe.jsx)("div",{style:{display:"".concat("Edit"===e?"block":"none")},children:Object(oe.jsx)(Hn,{})}),Object(oe.jsx)("div",{style:{display:"".concat("Preview"===e?"block":"none"),height:"100%"},children:Object(oe.jsx)(ht,{})})]})]})},gt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,238)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),i(e),c(e),r(e),a(e)}))},ft={width:1,height:1},wt={picture:ft};Object(B.setGlobal)({mode:"Edit",tool:new Set(["Select"]),cut:wt,globalCuts:[wt],globalPsds:[ft],globalFileName:""}),Q.a.render(Object(oe.jsx)(G.a.StrictMode,{children:Object(oe.jsx)(Ot,{})}),document.getElementById("root")),gt()}},[[231,1,2]]]);
//# sourceMappingURL=main.84ec0b24.chunk.js.map