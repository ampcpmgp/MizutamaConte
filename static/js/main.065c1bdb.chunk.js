(this["webpackJsonpmizutama-conte"]=this["webpackJsonpmizutama-conte"]||[]).push([[0],{231:function(e,n,t){"use strict";t.r(n);var i,c,a,r,o,l,s,d,u,j,b,v,h,m,p,x,O,g,f,w,z,y,k,C,S,I,F,W,E,L,T,P,N,A,B,M,D=t(10),H=t.n(D),G=t(33),Q=t.n(G),K=t(12),R=t(21),X=t(233),U=t(67),J=t(232),V=t(13),Z=Object(V.a)(i||(i=Object(K.a)(["\n  html {\n    height: 100%;\n    overflow: hidden;\n  }\n  body {\n    height: 100%;\n    overflow: hidden;\n    margin: 0;\n    padding: 0\n  }\n  #root {\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n  }\n  button {\n    -webkit-app-region: no-drag;\n  }\n  div.hover {\n   :hover {\n     background-color: var(--spectrum-alias-highlight-hover);\n   }\n  }\n  textarea.hover {\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n      border: 1px solid var(--spectrum-alias-border-color-hover);\n      border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n    }\n  }\n  div.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n  }\n  li.isHover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n  a {\n    cursor: default;\n    color: var(--spectrum-alias-text-color);\n    :hover {\n      color: var(--spectrum-alias-text-color-hover);\n    }\n  }\n"]))),Y=t(6),q=t(234),$=t(85),_=t(25),ee=t(102),ne=t.n(ee),te=t(103),ie=t.n(te),ce=t(104),ae=t.n(ce),re=t(41),oe=t(1),le=V.b.div(c||(c=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: var(--spectrum-global-dimension-size-85, var(--spectrum-alias-size-85));\n"]))),se=function(){var e=Object(D.useGlobal)("tool"),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=function(){document.activeElement.blur()};return Object(re.a)("v",(function(){i(new Set(["Select"])),c()})),Object(re.a)("c",(function(){i(new Set(["Crop"])),c()})),Object(re.a)("t",(function(){i(new Set(["Text"])),c()})),Object(oe.jsx)(le,{children:Object(oe.jsxs)(q.a,{orientation:"vertical",selectionMode:"single",isQuiet:!0,isEmphasized:!0,selectedKeys:t,onSelectionChange:i,children:[Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ne.a,{})},"Select"),Object(oe.jsx)($.a,{children:"Select (V)"})]}),Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ie.a,{})},"Crop"),Object(oe.jsx)($.a,{children:"Crop (C)"})]}),Object(oe.jsxs)($.b,{placement:"end",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ae.a,{})},"Text"),Object(oe.jsx)($.a,{children:"Text (T)"})]})]})})},de=t(11),ue=t.n(de),je=t(36),be=t(235),ve=t(27),he=t(133),me=t(60),pe=t(111),xe=t.n(pe),Oe=t(112),ge=t.n(Oe),fe=t(113),we=t.n(fe),ze=t(114),ye=t.n(ze),ke=t(115),Ce=t.n(ke),Se=t(116),Ie=t.n(Se),Fe=t(117),We=t.n(Fe),Ee=t(118),Le=t.n(Ee),Te=t(69),Pe=window.api,Ne=V.b.div(a||(a=Object(K.a)(["\n  -webkit-app-region: drag;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ae=V.b.div(r||(r=Object(K.a)(["\n  -webkit-app-region: no-drag;\n"]))),Be=V.b.div(o||(o=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  ","\n  margin-right: auto;\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Pe?"margin-left: var(--spectrum-global-dimension-size-800, var(--spectrum-alias-size-800));":"margin-left: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));"),Me=V.b.div(l||(l=Object(K.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  ","\n"])),-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")&&Pe&&"&::before {\n    content: '';\n    padding-left: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  }"),De=function(){var e=Object(D.useGlobal)("mode"),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=function(){document.activeElement.blur()};return Object(re.a)("e",(function(){i("Edit"),c()})),Object(re.a)("p",(function(){i("Preview"),c()})),Object(oe.jsx)(be.b,{width:"fit-content",selectedKey:t,onSelectionChange:i,children:Object(oe.jsxs)(be.a,{maxHeight:"size-500",children:[Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(ge.a,{}),Object(oe.jsx)(ve.b,{children:"Edit"})]},"Edit"),Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(we.a,{}),Object(oe.jsx)(ve.b,{children:"Preview"})]},"Preview")]})})},He=function(){var e=Object(D.useState)(""),n=Object(Y.a)(e,2),t=n[0],i=n[1],c=Object(D.useGlobal)("globalFileName")[0];return Object(D.useEffect)((function(){(function(){var e=Object(je.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Pe){e.next=4;break}return i(c),e.abrupt("return");case 4:return e.next=6,Pe.loadFileName();case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[c,i]),Object(oe.jsx)(he.a,{isQuiet:!0,menuWidth:"size-3400","max-width":"fit-content",selectedKey:t,onSelectionChange:i,children:Object(oe.jsxs)(_.a,{children:[Object(oe.jsx)(We.a,{}),Object(oe.jsx)(ve.b,{children:t})]},t)})},Ge=function(){var e=Object(D.useGlobal)("globalCuts")[1],n=Object(D.useGlobal)("globalPsds")[1],t=Object(D.useGlobal)("globalFileName")[1];return Object(D.useEffect)((function(){var e=document.getElementById("inputDirectory");e&&e.setAttribute("webkitdirectory",""),e&&e.setAttribute("directory",""),e&&e.setAttribute("multiple","")}),[]),Object(oe.jsxs)(Ne,{children:[Object(oe.jsxs)(Be,{children:[!Pe&&Object(oe.jsxs)(me.a,{isQuiet:!0,onPress:function(){var e;return null===(e=document.getElementById("inputDirectory"))||void 0===e?void 0:e.click()},children:[Object(oe.jsx)(Le.a,{}),Object(oe.jsx)("input",{type:"file",style:{display:"none"},id:"inputDirectory",onChange:function(i){var c=i.target.files,a=Array.from(c),r=a.filter((function(e){return-1!==e.name.indexOf(".psd")})),o=a.filter((function(e){return-1!==e.name.indexOf(".json")}))[0];r.sort((function(e,n){return Number.parseInt(e.name.slice(1,4))-Number.parseInt(n.name.slice(1,4))})),t(o.name);var l=function(e){return new Promise((function(n){var t=new FileReader;t.onload=function(){n(t.result)},t.readAsArrayBuffer(e)}))};Object(je.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,r.reduce(function(){var e=Object(je.a)(ue.a.mark((function e(n,i){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.then(Object(je.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Te.readPsd,e.next=4,l(i);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.push.call(e.t0,e.t3);case 7:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Promise.resolve());case 3:n(t);case 4:case"end":return e.stop()}}),e)})))(),new Promise((function(e){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsText(o,"utf8")})).then((function(n){return e(JSON.parse(n))}))}})]}),Object(oe.jsx)(me.a,{isQuiet:!0,marginX:"size-200",children:Object(oe.jsx)(xe.a,{})}),Object(oe.jsx)(Ae,{children:Object(oe.jsx)(De,{})})]}),Object(oe.jsx)(He,{}),Object(oe.jsx)(Me,{children:Object(oe.jsxs)(q.a,{isQuiet:!0,children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ye.a,{})},"Share"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(Ce.a,{})},"Branch2"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(Ie.a,{})},"Settings")]})})]})},Qe=t(120),Ke=t.n(Qe),Re=t(121),Xe=t.n(Re),Ue=t(122),Je=t.n(Ue),Ve=t(123),Ze=t.n(Ve),Ye=t(73),qe=t.n(Ye),$e=t(236),_e=V.b.p(s||(s=Object(K.a)(["\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),en=V.b.div(d||(d=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-700, var(--spectrum-alias-size-700));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),nn=V.b.div(u||(u=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),tn=V.b.div(j||(j=Object(K.a)(["\n  width: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  color: var(--spectrum-alias-label-text-color);\n  font-size: var(--spectrum-global-dimension-font-size-75);\n  margin: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100)) 0;\n"]))),cn=function(){var e,n,t,i,c=Object(D.useGlobal)("cut")[0];return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)(U.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(en,{children:"Fade In"}),Object(oe.jsxs)(he.a,{width:"184px",selectedKey:null===(e=c.action)||void 0===e?void 0:e.fadeIn,defaultSelectedKey:"None",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"None"})},"None"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"White In"})},"White In"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Black In"})},"Black In"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Cross"})},"Cross")]}),Object(oe.jsx)($e.a,{label:"Duration",maxValue:480,value:null===(n=c.action)||void 0===n?void 0:n.fadeInDuration,width:"256px"}),Object(oe.jsx)(en,{children:"Fade Out"}),Object(oe.jsxs)(he.a,{width:"184px",selectedKey:null===(t=c.action)||void 0===t?void 0:t.fadeOut,defaultSelectedKey:"None",children:[Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"None"})},"None"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"White Out"})},"White Out"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Black Out"})},"Black Out"),Object(oe.jsx)(_.a,{children:Object(oe.jsx)(ve.b,{children:"Cross"})},"Cross")]}),Object(oe.jsx)($e.a,{label:"Duration",maxValue:480,value:null===(i=c.action)||void 0===i?void 0:i.fadeOutDuration,width:"256px"})]})})},an=t(237),rn=function(){var e,n,t,i,c,a,r,o,l,s,d,u,j,b,v,h,m,p,x=Object(D.useGlobal)("cut")[0];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(_e,{children:"Position"}),Object(oe.jsxs)(U.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(nn,{children:"In"}),Object(oe.jsx)(tn,{children:"X"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(e=x.cameraWork)||void 0===e?void 0:e.position)?null===(n=x.cameraWork)||void 0===n||null===(t=n.position)||void 0===t?void 0:t.in.x.toString():""}),Object(oe.jsx)(tn,{children:"Y"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(i=x.cameraWork)||void 0===i?void 0:i.position)?null===(c=x.cameraWork)||void 0===c||null===(a=c.position)||void 0===a?void 0:a.in.y.toString():""}),Object(oe.jsx)(nn,{children:"Out"}),Object(oe.jsx)(tn,{children:"X"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(r=x.cameraWork)||void 0===r?void 0:r.position)?null===(o=x.cameraWork)||void 0===o||null===(l=o.position)||void 0===l?void 0:l.out.x.toString():""}),Object(oe.jsx)(tn,{children:"Y"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(s=x.cameraWork)||void 0===s?void 0:s.position)?null===(d=x.cameraWork)||void 0===d||null===(u=d.position)||void 0===u?void 0:u.out.y.toString():""}),Object(oe.jsx)(nn,{children:"Scale"}),Object(oe.jsx)(tn,{children:"In"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(j=x.cameraWork)||void 0===j?void 0:j.scale)?null===(b=x.cameraWork)||void 0===b||null===(v=b.scale)||void 0===v?void 0:v.in.toString():""}),Object(oe.jsx)(tn,{children:"Out"}),Object(oe.jsx)(an.b,{width:"68px",isQuiet:!0,value:(null===(h=x.cameraWork)||void 0===h?void 0:h.scale)?null===(m=x.cameraWork)||void 0===m||null===(p=m.scale)||void 0===p?void 0:p.out.toString():""})]})]})},on=t(124),ln=t.n(on),sn=t(125),dn=t.n(sn),un=V.b.div(b||(b=Object(K.a)(["\n  width: 100%;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),jn=V.b.input(v||(v=Object(K.a)(["\n  display: none;\n"]))),bn=V.b.ul(h||(h=Object(K.a)(["\n  padding-left: var(--spectrum-global-dimension-size-300, var(--spectrum-alias-size-300));\n  margin: 0;\n"]))),vn=function(e){var n=e.labelFor,t=e.children;return Object(oe.jsx)(un,{children:Object(oe.jsx)("label",{htmlFor:n,children:t})})},hn=function(e){var n=e.labelName,t=e.children,i=Object(D.useState)(!1),c=Object(Y.a)(i,2),a=c[0],r=c[1];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(jn,{type:"checkbox",id:n,checked:a,onChange:function(){return r(!a)}}),Object(oe.jsx)(vn,{labelFor:n,children:Object(oe.jsxs)(U.a,{direction:"row",gap:"size-100",alignItems:"center",children:[a?Object(oe.jsx)(dn.a,{size:"S"}):Object(oe.jsx)(ln.a,{size:"S"}),Object(oe.jsx)(ve.b,{children:n})]})}),Object(oe.jsx)(bn,{style:{display:"".concat(a?"block":"none")},children:t})]})},mn=V.b.li(m||(m=Object(K.a)(["\n  list-style: none;\n  margin: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  padding: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50)) 0;\n  ::before {\n    content: '';\n    width: var(--spectrum-global-dimension-size-225, var(--spectrum-alias-size-225));\n    padding-right: var(--spectrum-global-dimension-size-100, var(--spectrum-alias-size-100));\n  }\n  :hover {\n    background-color: var(--spectrum-alias-highlight-hover);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),pn=window.api,xn=V.b.a(p||(p=Object(K.a)(["\n  text-decoration: none;\n  display: inline-block;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n"]))),On=function(){var e={picture:{width:1,height:1}},n=Object(D.useState)([e]),t=Object(Y.a)(n,2),i=t[0],c=t[1],a=Object(D.useGlobal)("globalCuts")[0],r=Object(D.useGlobal)("cut")[1];return Object(D.useEffect)((function(){(function(){var e=Object(je.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,pn){e.next=5;break}return c(a),e.abrupt("return");case 5:return e.next=7,pn.loadJSON();case 7:n=e.sent,c(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[a,c]),Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(hn,{labelName:"Scene1",children:(null===i||void 0===i?void 0:i.length)>1&&(null===i||void 0===i?void 0:i.map((function(e,n){return Object(oe.jsx)(mn,{onClick:function(){return r(e)},id:"List".concat(n+1),onMouseEnter:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("Cut".concat(n+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(oe.jsxs)(xn,{href:"#Cut".concat(n+1),children:["Cut",n+1]})},n)})))})})},gn=t(126),fn=t.n(gn),wn=V.b.div(x||(x=Object(K.a)(["\n  width: 118px;\n  height: var(--spectrum-global-dimension-size-1600, var(--spectrum-alias-size-1600));\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border: 1px solid var(--spectrum-alias-border-color);\n  background-color: var(--spectrum-alias-appframe-border-color);\n  display: flex;\n  flex-flow: column;\n  :hover {\n    color: var(--spectrum-alias-text-color-hover);\n    border-color: var(--spectrum-alias-border-color-hover);\n  }\n"]))),zn=V.b.div(O||(O=Object(K.a)(["\n  height: 50%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),yn=Object(V.b)(zn)(g||(g=Object(K.a)(["\n  background-color: var(--spectrum-tray-background-color);\n  border-bottom-left-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  border-bottom-right-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n"]))),kn=function(e){var n,t=e.Title,i=e.Type,c={movie:Object(oe.jsx)(qe.a,{size:"S"}),audio:Object(oe.jsx)(fn.a,{size:"S"})};return Object(oe.jsxs)(wn,{children:[Object(oe.jsx)(zn,{children:(n=i,c[n])}),Object(oe.jsx)(yn,{children:Object(oe.jsx)(ve.b,{children:t})})]})},Cn=function(){return Object(oe.jsxs)(U.a,{direction:"row",gap:"size-200",wrap:!0,children:[Object(oe.jsx)(kn,{Title:"Title.mp4",Type:"movie"}),Object(oe.jsx)(kn,{Title:"Credit.mp4",Type:"movie"}),Object(oe.jsx)(kn,{Title:"BGM1.wav",Type:"audio"})]})},Sn=function(){return Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsx)(an.a,{minWidth:"100%",width:"100%",marginTop:"size-200"})})},In=V.b.div(f||(f=Object(K.a)(["\n  padding-left: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-right: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  padding-bottom: var(--spectrum-global-dimension-size-200, var(--spectrum-alias-size-200));\n  border-bottom: 2px solid var(--spectrum-alias-appframe-border-color);\n  user-select: none;\n  height: fit-content;\n  &:last-of-type {\n    overflow: auto;\n  }\n"]))),Fn=function(e){var n,t=e.Title,i=e.children,c={Transition:Object(oe.jsx)(Ke.a,{size:"XS"}),"Camera Work":Object(oe.jsx)(Xe.a,{size:"XS"}),Outline:Object(oe.jsx)(Je.a,{size:"XS"}),Dialogue:Object(oe.jsx)(Ze.a,{size:"XS"}),Media:Object(oe.jsx)(qe.a,{size:"XS"})};return Object(oe.jsxs)(In,{style:"Outline"===t?{maxHeight:"calc(100vh - 580px)"}:{maxHeight:"calc(100vh - 257px)"},children:[Object(oe.jsxs)(U.a,{direction:"row",alignItems:"center",children:[(n=t,c[n]),Object(oe.jsx)(ve.a,{level:4,margin:"size-200",children:Object(oe.jsx)(ve.b,{children:t})})]}),i]})},Wn=function(){var e=Object(D.useGlobal)("mode")[0];return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{style:"Edit"===e?{display:"block",height:"100%",overflow:"hidden"}:{display:"none"},children:[Object(oe.jsx)(Fn,{Title:"Transition",children:Object(oe.jsx)(cn,{})}),Object(oe.jsx)(Fn,{Title:"Camera Work",children:Object(oe.jsx)(rn,{})}),Object(oe.jsx)(Fn,{Title:"Outline",children:Object(oe.jsx)(On,{})})]}),Object(oe.jsxs)("div",{style:"Preview"===e?{display:"block"}:{display:"none"},children:[Object(oe.jsx)(Fn,{Title:"Dialogue",children:Object(oe.jsx)(Sn,{})}),Object(oe.jsx)(Fn,{Title:"Media",children:Object(oe.jsx)(Cn,{})})]})]})},En=t(74),Ln=t(84),Tn=window.api,Pn=function(e){var n=Object(D.useState)([e]),t=Object(Y.a)(n,2),i=t[0],c=t[1],a=Object(D.useGlobal)("globalCuts")[0],r=Object(D.useGlobal)("globalPsds")[0];return Object(D.useEffect)((function(){(function(){var e=Object(je.a)(ue.a.mark((function e(){var n,t,i,o,l,s,d,u,j,b,v;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,n){var t=new Map(null===n||void 0===n?void 0:n.map((function(e,n){return[n,e]})));return null===e||void 0===e?void 0:e.map((function(e,n){return Object(Ln.a)(Object(Ln.a)({},e),t.get(n))}))},Tn){e.next=8;break}return i=a,o=null===(t=r)||void 0===t?void 0:t.map((function(e){return{picture:e}})),l=n(i,o),c(l),e.abrupt("return");case 8:return e.next=10,Tn.loadPSD();case 10:return s=e.sent,e.next=13,Tn.loadJSON();case 13:d=e.sent,u=null===s||void 0===s?void 0:s.map((function(e){return Object(Te.readPsd)(e)})),j=d,b=null===u||void 0===u?void 0:u.map((function(e){return{picture:e}})),v=n(j,b),c(v);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,r,c]),i},Nn=V.b.div(w||(w=Object(K.a)(["\n  height: calc(100vh - 82px);\n  width: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n"]))),An=V.b.textarea(z||(z=Object(K.a)(["\n  position: absolute;\n  top: 2px;\n  height: calc(100% - 4px);\n  width: calc(100% - 4px);\n  resize: none;\n  background: none;\n  margin: 0;\n  padding: 0;\n  border: none;\n\n  :focus {\n    outline: 2px solid var(--spectrum-alias-border-color-focus);\n    border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  }\n"]))),Bn=V.b.div(y||(y=Object(K.a)(["\n  color: var(--spectrum-semantic-positive-color-border);\n  border: 2px solid var(--spectrum-semantic-positive-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 2;\n"]))),Mn=V.b.div(k||(k=Object(K.a)(["\n  color: var(--spectrum-semantic-negative-color-border);\n  border: 2px solid var(--spectrum-semantic-negative-color-border);\n  border-radius: var(--spectrum-global-dimension-size-50, var(--spectrum-alias-size-50));\n  position: absolute;\n  z-index: 3;\n"]))),Dn=V.b.svg(C||(C=Object(K.a)(["\n  padding: 0;\n  margin: 0;\n  stroke: none;\n  fill: var(--spectrum-alias-text-color);\n  position: absolute;\n  left: calc((100% - 96px) / 2);\n"]))),Hn=function(e){var n=e.action,t=e.dialogue,i=e.time,c=e.timeSum,a=Object(D.useGlobal)("tool")[0],r=function(e){var n=document.activeElement;"Escape"===e.key&&n.blur()};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(J.a,{gridArea:"action",width:"100%",position:"relative",height:"auto",children:[Object(oe.jsx)(An,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:r,children:"".concat((null===n||void 0===n?void 0:n.fadeIn)?null===n||void 0===n?void 0:n.fadeIn:"","\n").concat((null===n||void 0===n?void 0:n.fadeInDuration)?null===n||void 0===n?void 0:n.fadeInDuration:"","\n").concat((null===n||void 0===n?void 0:n.fadeOut)?null===n||void 0===n?void 0:n.fadeOut:"","\n").concat((null===n||void 0===n?void 0:n.fadeOutDuration)?null===n||void 0===n?void 0:n.fadeOutDuration:"","\n").concat((null===n||void 0===n?void 0:n.text)?null===n||void 0===n?void 0:n.text:"","\n")}),(null===n||void 0===n?void 0:n.fadeIn)&&Object(oe.jsx)(Dn,{viewBox:"0 0 96 48",width:"96px",children:Object(oe.jsx)("path",{d:"M48,2.83,91.17,46H4.83L48,2.83M48,0,0,48H96L48,0Z"})}),(null===n||void 0===n?void 0:n.fadeOut)&&Object(oe.jsx)(Dn,{viewBox:"0 0 96 48",width:"96px",style:{bottom:0},children:Object(oe.jsx)("path",{d:"M91.17,2,48,45.17,4.83,2H91.17M96,0Zm0,0H0L48,48,96,0Z"})})]}),Object(oe.jsx)(J.a,{gridArea:"dialogue",width:"100%",position:"relative",height:"auto",children:Object(oe.jsx)(An,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:r,children:t})}),Object(oe.jsx)(J.a,{gridArea:"time",width:"100%",position:"relative",height:"auto",children:Object(oe.jsx)(An,{className:a.has("Text")?"hover":"",disabled:!a.has("Text"),onKeyDown:r,children:"".concat(i>24?(i/24|0)+":"+("00"+i%24).slice(-2):("00"+i).slice(-2),"\n").concat(c>24?(c/24|0)+":"+("00"+c%24).slice(-2):("00"+c).slice(-2))})})]})},Gn=window.api,Qn=function(){var e,n=Pn({picture:{width:1,height:1}});return Object(D.useEffect)((function(){Gn&&(null===n||void 0===n||n.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CC".concat(n+1,"PP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[n]),Object(oe.jsxs)(oe.Fragment,{children:[!Gn&&(null===n||void 0===n?void 0:n.length)>1&&!(null===(e=n[1])||void 0===e?void 0:e.picture)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),Gn&&1===(null===n||void 0===n?void 0:n.length)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,c,a=n.slice(0,t+1).reduce((function(e,n){return n.time&&e+n.time}),0);return Object(oe.jsx)(J.a,{backgroundColor:"gray-100",children:Object(oe.jsx)("div",{className:"hover",id:"Cut".concat(t+1),onClick:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.click()},onMouseEnter:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.classList.add("isHover")},onMouseLeave:function(){var e;return null===(e=document.getElementById("List".concat(t+1)))||void 0===e?void 0:e.classList.remove("isHover")},children:Object(oe.jsxs)(U.b,{columns:["72px","288px","auto","auto","128px"],areas:["cut picture action dialogue time"],gap:"size-200",height:"auto",marginBottom:"size-25",children:[Object(oe.jsx)(J.a,{gridArea:"cut",width:"100%",height:"auto",children:Object(oe.jsx)(U.a,{direction:"column",alignItems:"center",children:Object(oe.jsx)(ve.a,{children:("00"+(t+1)).slice(-3)})})}),Object(oe.jsx)(J.a,{gridArea:"picture",width:"100%",height:"auto",children:null===(i=e.picture)||void 0===i||null===(c=i.children)||void 0===c?void 0:c.filter((function(e,n){return 0!==n})).map((function(n){var i,c=null===(i=n.canvas)||void 0===i?void 0:i.toDataURL("image/png",.4);return Object(oe.jsxs)("div",{style:{height:"".concat(n.canvas&&.12*n.canvas.height,"px"),width:"".concat(n.canvas&&.12*n.canvas.width,"px"),position:"relative"},children:[Object(oe.jsx)("div",{style:{height:"".concat(n.canvas&&.12*n.canvas.height,"px"),width:"".concat(n.canvas&&.12*n.canvas.width,"px"),position:"relative",background:"".concat(Gn?"none":"#FFF")},id:"CC".concat(t+1,"PP").concat(n.name),children:!Gn&&Object(oe.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:c,alt:"cut"})}),e.cameraWork&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Bn,{style:{height:"".concat(129.6*e.cameraWork.scale.in,"px"),width:"".concat(230.4*e.cameraWork.scale.in,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.in-e.cameraWork.position.in.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.in-e.cameraWork.position.in.x))/2,"px")},children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"IN"})}),Object(oe.jsx)(Mn,{style:{height:"".concat(129.6*e.cameraWork.scale.out,"px"),width:"".concat(230.4*e.cameraWork.scale.out,"px"),top:"".concat(n.canvas&&(.12*n.canvas.height-129.6*(e.cameraWork.scale.out-e.cameraWork.position.out.y))/2,"px"),left:"".concat(n.canvas&&(.12*n.canvas.width-230.4*(e.cameraWork.scale.out-e.cameraWork.position.out.x))/2,"px")},children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"OUT"})})]})]},"CC".concat(t+1,"PP").concat(n.name))}))}),Object(oe.jsx)(Hn,{action:null===e||void 0===e?void 0:e.action,dialogue:null===e||void 0===e?void 0:e.dialogue,time:null===e||void 0===e?void 0:e.time,timeSum:a})]})})},t)}))]})},Kn=H.a.memo((function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)(U.b,{columns:["72px","288px","auto","auto","128px"],rows:["size-500"],height:"size-500",gap:"size-200",children:[Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"CUT"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"PICTURE"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"ACTION"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"DIALOGUE"}),Object(oe.jsx)(ve.a,{alignSelf:"center",justifySelf:"center",children:"TIME"})]}),Object(oe.jsx)(Nn,{children:Object(oe.jsx)(Qn,{})})]})})),Rn=t(127),Xn=t.n(Rn),Un=t(128),Jn=t.n(Un),Vn=t(129),Zn=t.n(Vn),Yn=t(130),qn=t.n(Yn),$n=t(131),_n=t.n($n),et=t(132),nt=t.n(et),tt=t(17),it=window.api,ct=V.b.div(S||(S=Object(K.a)(["\n  position: absolute;\n  color: #2c2c2c;\n  z-index: 2;\n"]))),at=V.b.div(I||(I=Object(K.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n"]))),rt=V.b.div(F||(F=Object(K.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),ot=Object(V.b)(rt)(W||(W=Object(K.a)(["\n  position: absolute;\n"]))),lt=V.b.div(E||(E=Object(K.a)(["\n  height: 8px;\n  position: absolute;\n  border-left: 1px solid var(--spectrum-alias-text-color);\n"]))),st=V.b.div(L||(L=Object(K.a)(["\n  height: 16px;\n  position: absolute;\n  top: 16px;\n"]))),dt=H.a.memo((function(e){var n,t=e.scale,i=Pn({picture:{width:1,height:1}}),c=Object(D.useState)(window.innerWidth-340),a=Object(Y.a)(c,2),r=a[0],o=a[1];window.addEventListener("resize",(function(){return o(window.innerWidth-340)})),Object(D.useEffect)((function(){it&&(null===i||void 0===i||i.map((function(e,n){var t,i;return null===(t=e.picture)||void 0===t||null===(i=t.children)||void 0===i||i.filter((function(e,n){return 0!==n})).map((function(e){var t=document.getElementById("CCC".concat(n+1,"PPP").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(.12*i.width,"px"),t.innerHTML="",t.style.backgroundColor="#FFF",t.appendChild(i),0})),0})))}),[i]);var l=(null===i||void 0===i?void 0:i.reduce((function(e,n){return n.time&&e+n.time}),0))||0,s=function(e,n){return Object(tt.a)(new Array(n-e).keys()).map((function(n){return n+e}))};return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(rt,{style:{width:"".concat(r,"px")},children:s(0,l).filter((function(e){return e%(240/t)===0})).map((function(e){return Object(oe.jsx)(st,{style:{left:"".concat(e*t+2,"px")},children:e>24?(e/24|0)+":"+("00"+e%24).slice(-2):("00"+e).slice(-2)},e)}))}),Object(oe.jsxs)(rt,{style:{width:"".concat(r,"px")},children:[s(0,l).filter((function(e){return e%(24/t|0)===0})).map((function(e){return Object(oe.jsx)(lt,{style:{left:"".concat(e*t,"px"),top:"32px",width:"24px"}},e)})),s(0,l).filter((function(e){return e%(240/t)===0})).map((function(e){return Object(oe.jsx)(lt,{style:{left:"".concat(e*t,"px"),top:"24px",width:"24px"}},e)}))]}),Object(oe.jsxs)(rt,{style:{width:"".concat(r,"px")},children:[!it&&(null===i||void 0===i?void 0:i.length)>1&&!(null===(n=i[1])||void 0===n?void 0:n.picture)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),it&&1===(null===i||void 0===i?void 0:i.length)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===i||void 0===i?void 0:i.length)>1&&i.map((function(e,n){var c,a,r=i.slice(0,n).reduce((function(e,n){return n.time&&e+n.time}),0)||0,o=(null===e||void 0===e?void 0:e.time)||0;return Object(oe.jsxs)(ot,{style:{left:"".concat(r*t,"px"),top:"40px",width:"".concat(o*t,"px"),overflow:"hidden"},children:[null===(c=e.picture)||void 0===c||null===(a=c.children)||void 0===a?void 0:a.filter((function(e,n){return 0!==n})).map((function(e){var t,i=null===(t=e.canvas)||void 0===t?void 0:t.toDataURL("image/png",.4);return Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative"},children:Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&.12*e.canvas.height,"px"),width:"".concat(e.canvas&&.12*e.canvas.width,"px"),position:"relative",background:"".concat(it?"none":"#FFF")},id:"CCC".concat(n+1,"PPP").concat(e.name),children:!it&&Object(oe.jsx)("img",{style:{transform:"scale(0.12)",transformOrigin:"left top"},src:i,alt:"cut"})})},"CCC".concat(n+1,"PPP").concat(e.name))})),Object(oe.jsx)(ct,{children:Object(oe.jsx)(ve.a,{level:4,margin:"size-25",children:"Cut".concat(("00"+(n+1)).slice(-3))})})]},n)}))]})]})})),ut=V.b.input(T||(T=Object(K.a)(["\n  position: absolute;\n  z-index: 3;\n  -webkit-appearance: none;\n  appearance: none;\n  outline: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n  height: 16px;\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    top: 0;\n    background: var(--spectrum-semantic-negative-color-border);\n    width: 2px;\n    height: 574px;\n  }\n"]))),jt=H.a.memo((function(e){var n,t=e.frame,i=e.timeTotal,c=e.setFrame,a=2*i,r=Object(D.useRef)(null),o=null!==(n=r.current)&&void 0!==n?n:document.createElement("div"),l=Object(D.useState)(o.scrollLeft),s=Object(Y.a)(l,2),d=s[0],u=s[1];return o.addEventListener("scroll",(function(){u(o.scrollLeft)})),Object(D.useEffect)((function(){var e=2*t-d;console.log(d,e,a-24),window.innerWidth-364<e&&o.scrollBy(window.innerWidth-364,0),e<0&&o.scrollBy(e,0)}),[t,d,o,a]),Object(oe.jsxs)(at,{ref:r,children:[Object(oe.jsx)(dt,{scale:2}),Object(oe.jsx)(ut,{type:"range",id:"slide",value:t,min:"0",max:i,onChange:function(){var e=document.getElementById("slide")||document.createElement("input");c(Number.parseInt(e.value))},style:{width:"".concat(a,"px")}})]})})),bt=window.api,vt=V.b.div(P||(P=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: max-content;\n"]))),ht=V.b.div(N||(N=Object(K.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-positive-color-border);\n  margin-left: 0;\n  margin-right: auto;\n"]))),mt=V.b.div(A||(A=Object(K.a)(["\n  width: 48px;\n  color: var(--spectrum-semantic-negative-color-border);\n  margin-left: auto;\n  margin-right: 0;\n"]))),pt=H.a.memo((function(){var e,n=Pn({picture:{width:1,height:1}}),t=Object(D.useState)(0),i=Object(Y.a)(t,2),c=i[0],a=i[1],r=Object(D.useState)(!1),o=Object(Y.a)(r,2),l=o[0],s=o[1],d=Object(D.useState)((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400),u=Object(Y.a)(d,2),j=u[0],b=u[1];window.addEventListener("resize",(function(){return b((window.innerWidth-340)/2400>(window.innerHeight-419)/1350?(window.innerHeight-419)/1350:(window.innerWidth-340)/2400)}));var v=window.performance&&performance.now,h=(null===n||void 0===n?void 0:n.reduce((function(e,n){return n.time&&e+n.time}),0))||0,m=Object(D.useRef)(0),p=Object(D.useRef)(0),x=Object(D.useCallback)((function(){cancelAnimationFrame(m.current),s(!1),a(0)}),[]),O=Object(D.useCallback)((function(){cancelAnimationFrame(m.current),s(!1),h&&a(h-1)}),[h]),g=Object(D.useCallback)((function(e){cancelAnimationFrame(m.current),s(!1),h&&(e>=h&&(e=h-1),a(e))}),[h]),f=Object(D.useCallback)((function(){cancelAnimationFrame(m.current),s(!1)}),[]),w=Object(D.useCallback)((function(){var e=function(){return v&&v.call(performance)||(new Date).getTime()};p.current=e();!function n(){m.current=requestAnimationFrame(n);var t=(e()-p.current)/(1e3/24);h&&(c>=h-1&&(cancelAnimationFrame(m.current),s(!1)),a(c+t))}(),s(!0)}),[c,v,h]);return Object(D.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,a,r,o,l,s,d,u,b,v,h=n.slice(0,t).reduce((function(e,n){return n.time&&e+n.time}),0)||0,m=(null===(i=e.picture)||void 0===i?void 0:i.children)&&(null===(a=e.picture)||void 0===a?void 0:a.children.length)-1,p=e.time||0,x=e.time&&e.time/m,O=(null===(r=e.cameraWork)||void 0===r||null===(o=r.scale)||void 0===o?void 0:o.in)||1,g=(null===(l=e.cameraWork)||void 0===l||null===(s=l.scale)||void 0===s?void 0:s.out)||1,f=c-h||1,w=O-(O-g)*f/p,z=(null===(d=e.action)||void 0===d?void 0:d.fadeInDuration)||0,y=(null===(u=e.action)||void 0===u?void 0:u.fadeOutDuration)||0,k=p-y,C=function(e){return 0<=e&&e<z?e/z:p-y<=e&&e<=p?1-(e-k)/y:1}(f);return null===(b=e.picture)||void 0===b||null===(v=b.children)||void 0===v||v.filter((function(e,n){return x?n===Math.trunc((c-h)/x|0)+1:1===n})).map((function(e){var n=document.getElementById("c".concat(t+1,"p").concat(e.name))||document.createElement("div"),i=e.canvas||document.createElement("canvas");return i.style.width="".concat(i.width*j/w,"px"),i.style.opacity=C.toString(),n.innerHTML="",n.appendChild(i),0})),0}))}),[n,c,j]),Object(D.useEffect)((function(){h&&c>=h-1&&(cancelAnimationFrame(m.current),s(!1))}),[c,h]),Object(oe.jsx)(U.a,{direction:"column",height:"100%",children:Object(oe.jsxs)(oe.Fragment,{children:[!bt&&(null===n||void 0===n?void 0:n.length)>1&&!(null===(e=n[1])||void 0===e?void 0:e.picture)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),bt&&1===(null===n||void 0===n?void 0:n.length)&&Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",justifyContent:"center",height:window.innerHeight-42,children:[Object(oe.jsx)(En.a,{"aria-label":"Loading\u2026",isIndeterminate:!0,size:"L"}),Object(oe.jsx)(ve.a,{children:"Now Loading..."})]}),(null===n||void 0===n?void 0:n.length)>1&&n.map((function(e,t){var i,a,r,o,s,d,u,b,v,m,p,z,y,k,C,S,I,F,W,E,L=n.slice(0,t-1).reduce((function(e,n){return n.time&&e+n.time}),0)||0,T=n.slice(0,t).reduce((function(e,n){return n.time&&e+n.time}),0)||0,P=n.slice(0,t+1).reduce((function(e,n){return n.time&&e+n.time}),0)||h||0,N=(null===(i=e.picture)||void 0===i?void 0:i.children)&&(null===(a=e.picture)||void 0===a?void 0:a.children.length)-1,A=(null===e||void 0===e?void 0:e.time)||0,B=A/N,M=(null===(r=e.cameraWork)||void 0===r||null===(o=r.scale)||void 0===o?void 0:o.in)||1,D=(null===(s=e.cameraWork)||void 0===s||null===(d=s.scale)||void 0===d?void 0:d.out)||1,H=c-T||1,G=M-(M-D)*H/A,Q=(null===(u=e.cameraWork)||void 0===u||null===(b=u.position)||void 0===b?void 0:b.in.x)||0,K=(null===(v=e.cameraWork)||void 0===v||null===(m=v.position)||void 0===m?void 0:m.out.x)||0,R=(null===(p=e.cameraWork)||void 0===p||null===(z=p.position)||void 0===z?void 0:z.in.y)||0,X=(null===(y=e.cameraWork)||void 0===y||null===(k=y.position)||void 0===k?void 0:k.out.y)||0,J=Q-(Q-K)*H/A,V=R-(R-X)*H/A,Z=(null===(C=e.action)||void 0===C?void 0:C.fadeInDuration)||0,Y=(null===(S=e.action)||void 0===S?void 0:S.fadeOutDuration)||0,q=A-Y,$="Black In"===(null===(I=e.action)||void 0===I?void 0:I.fadeIn)||"Black Out"===(null===(F=e.action)||void 0===F?void 0:F.fadeOut)?function(e){return 0<=e&&e<Z?e/Z:A-Y<=e&&e<=A?1-(e-q)/Y:1}(H):1;return Object(oe.jsx)(oe.Fragment,{children:void 0!==T&&void 0!==P&&T<=c&&c<P&&(null===(W=e.picture)||void 0===W||null===(E=W.children)||void 0===E?void 0:E.filter((function(e,n){return B?n===Math.trunc((c-T)/B|0)+1:1===n})).map((function(e){return Object(oe.jsxs)("div",{children:[Object(oe.jsxs)(U.a,{direction:"column",alignItems:"center",margin:"size-0",children:[Object(oe.jsxs)(vt,{style:{width:"".concat(1920*j,"px")},children:[Object(oe.jsx)(ht,{children:"".concat(T>24?(T/24|0)+":"+("00"+T%24).slice(-2):("00"+T).slice(-2))}),Object(oe.jsx)(ve.a,{children:"Cut".concat(("00"+(t+1)).slice(-3))}),Object(oe.jsx)(mt,{children:"".concat(P>24?(P/24|0)+":"+("00"+P%24).slice(-2):("00"+P).slice(-2))})]}),Object(oe.jsx)("div",{style:{height:"".concat(1080*j,"px"),width:"".concat(1920*j,"px"),backgroundColor:"#000",overflow:"hidden"},children:Object(oe.jsx)("div",{style:{height:"".concat(e.canvas&&e.canvas.height*j/G,"px"),width:"".concat(e.canvas&&e.canvas.width*j/G,"px"),backgroundColor:"#fff",opacity:"".concat($),position:"relative",bottom:"".concat(e.canvas&&(e.canvas.height*j-1080*j*(G-V))/2,"px"),right:"".concat(e.canvas&&(e.canvas.width*j-1920*j*(G-J))/2,"px")},id:"c".concat(t+1,"p").concat(e.name)})})]}),Object(oe.jsx)(U.a,{direction:"column",alignItems:"center",marginTop:"size-0",children:Object(oe.jsxs)(vt,{style:{width:"".concat(1920*j,"px")},children:[Object(oe.jsx)(ht,{children:"".concat(c>24?(c/24|0)+":"+("00"+Math.round(c)%24).slice(-2):("00"+Math.round(c)).slice(-2))}),Object(oe.jsxs)("div",{children:[Object(oe.jsx)(me.a,{isQuiet:!0,onPress:x,children:Object(oe.jsx)(Xn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:function(){return g(L)},children:Object(oe.jsx)(Jn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:l?f:w,children:l?Object(oe.jsx)(qn.a,{size:"M"}):Object(oe.jsx)(Zn.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:function(){return g(P)},children:Object(oe.jsx)(_n.a,{size:"M"})}),Object(oe.jsx)(me.a,{isQuiet:!0,onPress:O,children:Object(oe.jsx)(nt.a,{size:"M"})})]}),Object(oe.jsx)(mt,{children:"".concat(h>24?(h/24|0)+":"+("00"+h%24).slice(-2):("00"+h).slice(-2))})]})})]},"c".concat(t+1,"p").concat(e.name))})))})})),Object(oe.jsx)(U.a,{direction:"column",width:"100%",height:"288px",marginTop:"auto",marginBottom:"size-0",gap:"size-20",position:"relative",children:Object(oe.jsx)(jt,{frame:c,timeTotal:h,setFrame:a})})]})})})),xt=V.b.div(B||(B=Object(K.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  margin: 0;\n  padding: 0;\n  background-color: var(--spectrum-alias-appframe-border-color);\n"]))),Ot=V.b.div(M||(M=Object(K.a)(["\n  background-color: var(--spectrum-alias-toolbar-background-color);\n  grid-area: ",";\n  height: 100%;\n  overflow: hidden;\n"])),(function(e){return e.gridArea})),gt=function(e){var n=e.children;return Object(oe.jsxs)(R.a,{theme:X.a,children:[Object(oe.jsx)(Z,{}),Object(oe.jsx)(xt,{children:Object(oe.jsx)(U.b,{areas:["header header header","toolbar content sidebar"],columns:["size-600","auto","size-3600"],rows:["size-500","auto"],height:"100vh",gap:"size-25",children:n})})]})},ft=function(){var e=Object(D.useGlobal)("mode")[0];return Object(oe.jsxs)(gt,{children:[Object(oe.jsx)(Ot,{gridArea:"header",children:Object(oe.jsx)(Ge,{})}),Object(oe.jsx)(Ot,{gridArea:"toolbar",children:Object(oe.jsx)(se,{})}),Object(oe.jsx)(Ot,{gridArea:"sidebar",children:Object(oe.jsx)(Wn,{})}),Object(oe.jsxs)(J.a,{gridArea:"content",children:[Object(oe.jsx)("div",{style:{display:"".concat("Edit"===e?"block":"none")},children:Object(oe.jsx)(Kn,{})}),Object(oe.jsx)("div",{style:{display:"".concat("Preview"===e?"block":"none"),height:"100%"},children:Object(oe.jsx)(pt,{})})]})]})},wt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,238)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),i(e),c(e),a(e),r(e)}))},zt={width:1,height:1},yt={picture:zt};Object(D.setGlobal)({mode:"Edit",tool:new Set(["Select"]),cut:yt,globalCuts:[yt],globalPsds:[zt],globalFileName:""}),Q.a.render(Object(oe.jsx)(H.a.StrictMode,{children:Object(oe.jsx)(ft,{})}),document.getElementById("root")),wt()}},[[231,1,2]]]);
//# sourceMappingURL=main.065c1bdb.chunk.js.map